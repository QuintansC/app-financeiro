(self.webpackChunk_N_E=self.webpackChunk_N_E||[]).push([[746],{3984:(e,t,a)=>{Promise.resolve().then(a.bind(a,82439))},4954:e=>{e.exports={container:"LoadingScreen_container__kroiF",spinner:"LoadingScreen_spinner__Id4H8",spin:"LoadingScreen_spin__CRGcH",message:"LoadingScreen_message__9M_gS"}},9161:e=>{e.exports={container:"page_container__jZF7q",header:"page_header__oRW75",error:"page_error__JBrsB",sectionTitle:"page_sectionTitle__6ic_4",quickActionsTitle:"page_quickActionsTitle__xB8Zf",chartsGrid:"page_chartsGrid__peIB4",chartColumn:"page_chartColumn___bIhV",quickActions:"page_quickActions__u1HV5",quickActionsGrid:"page_quickActionsGrid__QQNue",quickActionCard:"page_quickActionCard__pxwYz",quickActionIcon:"page_quickActionIcon__ETgbE",quickActionText:"page_quickActionText__SrmOO",success:"page_success__r1r7Y",actionButtons:"page_actionButtons__aac_D",addButton:"page_addButton__HNjXU",uploadButton:"page_uploadButton__INvZj",addActionCard:"page_addActionCard__f8FAF"}},13876:(e,t,a)=>{"use strict";a.d(t,{c:()=>i});var n=a(1521),r=a(64785),s=a(98027);function i(){let[e,t]=(0,n.useState)(null),[a,i]=(0,n.useState)(!1),[o,c]=(0,n.useState)(!1),[l,u]=(0,n.useState)(null),d=(0,n.useCallback)(async function(){let e=arguments.length>0&&void 0!==arguments[0]&&arguments[0];try{if(i(!0),u(null),!e){let e=(0,s.hi)();if(e){t(e),i(!1);try{let e=await (0,r.dR)();(0,s.H$)(e),t(e)}catch(e){console.warn("Erro ao atualizar cache em background:",e)}return}}let a=await (0,r.dR)();(0,s.H$)(a),t(a)}catch(a){let e=(0,s.hi)();e?(t(e),u("Erro ao atualizar dados. Mostrando dados em cache.")):u(a.message||"Erro ao carregar dados")}finally{i(!1)}},[]);(0,n.useEffect)(()=>{let e=(0,s.hi)();e&&t(e),d()},[d]);let _=(0,n.useCallback)(async e=>{c(!0),u(null);try{let t=await e();return(0,s.gm)(),await d(!0),t}catch(e){throw u(e.message||"Erro inesperado"),e}finally{c(!1)}},[d]);return{data:e,loading:a,operationLoading:o,error:l,refresh:function(){let e=arguments.length>0&&void 0!==arguments[0]&&arguments[0];return d(e)},saveDebt:e=>_(()=>(0,r.cx)(e)),removeDebt:e=>_(()=>(0,r.BH)(e)),saveSalary:e=>_(()=>(0,r.C1)(e)),saveSavings:e=>_(()=>(0,r.Nt)(e)),saveMonth:e=>_(()=>(0,r.a1)(e)),savePreferences:(0,n.useCallback)(async e=>{try{await (0,r.PK)(e),t(t=>({...t,preferences:e}))}catch(e){throw u(e.message||"Erro ao salvar prefer\xeancias"),e}},[]),saveUser:e=>_(()=>(0,r.TK)(e))}}},23770:e=>{e.exports={button:"Button_button__aJ0V6",primary:"Button_primary__NvDjW",secondary:"Button_secondary__PNkAv",danger:"Button_danger__4QObZ",outline:"Button_outline__VR8yn",ghost:"Button_ghost__8k_dh",small:"Button_small__Dzghh",medium:"Button_medium__6mHOF",large:"Button_large__P9YO9",fullWidth:"Button_fullWidth__uTKaF",loadingContainer:"Button_loadingContainer__AyB9x",spinner:"Button_spinner__7wA18",spin:"Button_spin__rWqPt"}},30029:e=>{e.exports={container:"Section_container__pgS5h",title:"Section_title__dplNc"}},40731:(e,t,a)=>{"use strict";a.d(t,{$:()=>i});var n=a(73365),r=a(23770),s=a.n(r);function i(e){let{title:t,onClick:a,variant:r="primary",size:i="medium",disabled:o=!1,loading:c=!1,fullWidth:l=!1,type:u="button",className:d="",..._}=e,h=[s().button,s()[r],s()[i],o&&s().disabled,l&&s().fullWidth,d].filter(Boolean).join(" ");return(0,n.jsx)("button",{type:u,className:h,onClick:a,disabled:o||c,..._,children:c?(0,n.jsxs)("span",{className:s().loadingContainer,children:[(0,n.jsx)("span",{className:s().spinner}),(0,n.jsx)("span",{children:"Carregando..."})]}):t})}},56545:(e,t,a)=>{"use strict";a.d(t,{x:()=>i});var n=a(73365),r=a(4954),s=a.n(r);function i(e){let{message:t="Carregando..."}=e;return(0,n.jsxs)("div",{className:s().container,children:[(0,n.jsx)("div",{className:s().spinner}),(0,n.jsx)("p",{className:s().message,children:t})]})}},64785:(e,t,a)=>{"use strict";async function n(e){let t=arguments.length>1&&void 0!==arguments[1]?arguments[1]:{},a=localStorage.getItem("auth_token"),n=await fetch("".concat("http://localhost:3333/api").concat(e),{headers:{"Content-Type":"application/json",...a&&{Authorization:"Bearer ".concat(a)},...t.headers||{}},...t});if(!n.ok)throw 401===n.status&&(localStorage.removeItem("auth_token"),localStorage.removeItem("auth_user"),window.location.href="/login"),Error((await n.json().catch(()=>({message:n.statusText}))).message||"Erro ao comunicar com a API");return 204===n.status?null:n.json()}function r(){return n("/dados")}function s(e){return n("/dividas",{method:"POST",body:JSON.stringify(e)})}function i(e){return n("/dividas/".concat(e),{method:"DELETE"})}function o(e){return n("/salario",{method:"POST",body:JSON.stringify(e)})}function c(e){return n("/poupanca",{method:"POST",body:JSON.stringify(e)})}function l(e){return n("/meses",{method:"POST",body:JSON.stringify(e)})}function u(e){return n("/preferencias",{method:"POST",body:JSON.stringify(e)})}function d(e){return n("/acoes-rapidas",{method:"POST",body:JSON.stringify(e)})}function _(e){return n("/acoes-rapidas/ordem",{method:"POST",body:JSON.stringify({routeOrder:e})})}function h(e){return n("/acoes-rapidas/".concat(encodeURIComponent(e)),{method:"DELETE"})}function m(e){return n("/usuario",{method:"POST",body:JSON.stringify(e)})}a.d(t,{BH:()=>i,C1:()=>o,IG:()=>_,Nt:()=>c,PK:()=>u,TK:()=>m,UE:()=>h,a1:()=>l,cx:()=>s,dR:()=>r,wn:()=>d})},80146:(e,t,a)=>{"use strict";a.d(t,{w:()=>i});var n=a(73365),r=a(30029),s=a.n(r);function i(e){let{title:t,children:a}=e;return(0,n.jsxs)("div",{className:s().container,children:[t&&(0,n.jsx)("h2",{className:s().title,children:t}),a]})}},82439:(e,t,a)=>{"use strict";a.r(t),a.d(t,{default:()=>p});var n=a(73365),r=a(1521),s=a(13876),i=a(80146),o=a(40731),c=a(97002),l=a.n(c);let u={monthlyIncome:"",discounts:"",thirteenth:!0,vacation:!0};function d(e){let{salary:t,onSubmit:a}=e,[s,i]=(0,r.useState)(u);function c(e,t){i(a=>({...a,[e]:t}))}return(0,r.useEffect)(()=>{t&&i({monthlyIncome:String(t.monthlyIncome||""),discounts:String(t.discounts||""),thirteenth:!!t.thirteenth,vacation:!!t.vacation})},[t]),(0,n.jsxs)("div",{children:[(0,n.jsx)("label",{className:l().label,children:"Sal\xe1rio mensal"}),(0,n.jsx)("input",{className:l().input,type:"text",value:s.monthlyIncome,onChange:e=>c("monthlyIncome",e.target.value),placeholder:"Ex: 5000,00",inputMode:"numeric"}),(0,n.jsx)("label",{className:l().label,children:"Descontos"}),(0,n.jsx)("input",{className:l().input,type:"text",value:s.discounts,onChange:e=>c("discounts",e.target.value),placeholder:"Ex: 500,00",inputMode:"numeric"}),(0,n.jsxs)("div",{className:l().switchRow,children:[(0,n.jsxs)("div",{children:[(0,n.jsx)("span",{className:l().switchLabel,children:"Possui 13\xba sal\xe1rio"}),(0,n.jsx)("p",{className:l().switchDescription,children:"Recebe d\xe9cimo terceiro sal\xe1rio"})]}),(0,n.jsxs)("label",{className:l().switch,children:[(0,n.jsx)("input",{type:"checkbox",checked:s.thirteenth,onChange:e=>c("thirteenth",e.target.checked)}),(0,n.jsx)("span",{className:l().slider})]})]}),(0,n.jsxs)("div",{className:l().switchRow,children:[(0,n.jsxs)("div",{children:[(0,n.jsx)("span",{className:l().switchLabel,children:"Possui f\xe9rias"}),(0,n.jsx)("p",{className:l().switchDescription,children:"Recebe f\xe9rias remuneradas"})]}),(0,n.jsxs)("label",{className:l().switch,children:[(0,n.jsx)("input",{type:"checkbox",checked:s.vacation,onChange:e=>c("vacation",e.target.checked)}),(0,n.jsx)("span",{className:l().slider})]})]}),(0,n.jsx)(o.$,{title:"Salvar sal\xe1rio",variant:"primary",onClick:function(){s.monthlyIncome&&(null==a||a({monthlyIncome:Number(s.monthlyIncome),discounts:Number(s.discounts)||0,thirteenth:s.thirteenth,vacation:s.vacation}))},fullWidth:!0,className:l().submitButton})]})}var _=a(56545),h=a(9161),m=a.n(h);function p(){let{data:e,loading:t,refresh:a,saveSalary:o,operationLoading:c}=(0,s.c)(),[l,u]=(0,r.useState)("");if(t&&!e||c)return(0,n.jsx)(_.x,{message:c?"Processando...":"Carregando dados..."});async function h(e){try{await o(e),u("Sal\xe1rio atualizado"),setTimeout(()=>u(""),3e3)}catch(e){u(e.message||"Erro ao atualizar sal\xe1rio")}}return(0,n.jsxs)("div",{className:m().container,children:[(0,n.jsx)("h1",{className:m().header,children:"Sal\xe1rio e Descontos"}),l&&(0,n.jsx)("div",{className:l.includes("Erro")?m().error:m().success,children:l}),(0,n.jsx)(i.w,{title:"Sal\xe1rio e descontos",children:(0,n.jsx)(d,{salary:null==e?void 0:e.salary,onSubmit:h})})]})}},97002:e=>{e.exports={label:"SalaryForm_label__25x1E",input:"SalaryForm_input__w4m8S",switchRow:"SalaryForm_switchRow__YBgIJ",switchLabel:"SalaryForm_switchLabel__bu7Ra",switchDescription:"SalaryForm_switchDescription__HAUJn",switch:"SalaryForm_switch__kGd9m",slider:"SalaryForm_slider__h6OHm",submitButton:"SalaryForm_submitButton__KeFjC"}},98027:(e,t,a)=>{"use strict";a.d(t,{H$:()=>s,gm:()=>i,hi:()=>r});let n={data:null,timestamp:null,version:0};function r(){var e;if((e=n)&&e.timestamp&&Date.now()-e.timestamp<3e5&&null!==n.data)try{return JSON.parse(JSON.stringify(n.data))}catch(e){console.warn("Erro ao deserializar cache:",e),i()}return null}function s(e){try{n={data:JSON.parse(JSON.stringify(e)),timestamp:Date.now(),version:n.version+1}}catch(e){console.warn("Erro ao serializar dados para cache:",e)}}function i(){n={data:null,timestamp:null,version:n.version+1}}}},e=>{e.O(0,[465,862,487,347,131,358],()=>e(e.s=3984)),_N_E=e.O()}]);