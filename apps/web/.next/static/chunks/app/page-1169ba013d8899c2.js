(self.webpackChunk_N_E=self.webpackChunk_N_E||[]).push([[974],{4788:e=>{e.exports={container:"MonthlyPlanningChart_container__6Ur5g",title:"MonthlyPlanningChart_title__bi7JM",chartContainer:"MonthlyPlanningChart_chartContainer__vExol",summary:"MonthlyPlanningChart_summary__B4Kr_",summaryText:"MonthlyPlanningChart_summaryText__vaDYg",summarySubtext:"MonthlyPlanningChart_summarySubtext__A1EHZ",emptyContainer:"MonthlyPlanningChart_emptyContainer__QMyC5",emptyText:"MonthlyPlanningChart_emptyText__ZTHkq"}},4954:e=>{e.exports={container:"LoadingScreen_container__kroiF",spinner:"LoadingScreen_spinner__Id4H8",spin:"LoadingScreen_spin__CRGcH",message:"LoadingScreen_message__9M_gS"}},9161:e=>{e.exports={container:"page_container__jZF7q",header:"page_header__oRW75",error:"page_error__JBrsB",sectionTitle:"page_sectionTitle__6ic_4",quickActionsTitle:"page_quickActionsTitle__xB8Zf",chartsGrid:"page_chartsGrid__peIB4",chartColumn:"page_chartColumn___bIhV",quickActions:"page_quickActions__u1HV5",quickActionsGrid:"page_quickActionsGrid__QQNue",quickActionCard:"page_quickActionCard__pxwYz",quickActionIcon:"page_quickActionIcon__ETgbE",quickActionText:"page_quickActionText__SrmOO",success:"page_success__r1r7Y",actionButtons:"page_actionButtons__aac_D",addButton:"page_addButton__HNjXU",uploadButton:"page_uploadButton__INvZj",addActionCard:"page_addActionCard__f8FAF"}},13876:(e,a,t)=>{"use strict";t.d(a,{c:()=>i});var n=t(1521),r=t(64785),s=t(98027);function i(){let[e,a]=(0,n.useState)(null),[t,i]=(0,n.useState)(!1),[o,l]=(0,n.useState)(!1),[c,d]=(0,n.useState)(null),u=(0,n.useCallback)(async function(){let e=arguments.length>0&&void 0!==arguments[0]&&arguments[0];try{if(i(!0),d(null),!e){let e=(0,s.hi)();if(e){a(e),i(!1);try{let e=await (0,r.dR)();(0,s.H$)(e),a(e)}catch(e){console.warn("Erro ao atualizar cache em background:",e)}return}}let t=await (0,r.dR)();(0,s.H$)(t),a(t)}catch(t){let e=(0,s.hi)();e?(a(e),d("Erro ao atualizar dados. Mostrando dados em cache.")):d(t.message||"Erro ao carregar dados")}finally{i(!1)}},[]);(0,n.useEffect)(()=>{let e=(0,s.hi)();e&&a(e),u()},[u]);let m=(0,n.useCallback)(async e=>{l(!0),d(null);try{let a=await e();return(0,s.gm)(),await u(!0),a}catch(e){throw d(e.message||"Erro inesperado"),e}finally{l(!1)}},[u]);return{data:e,loading:t,operationLoading:o,error:c,refresh:function(){let e=arguments.length>0&&void 0!==arguments[0]&&arguments[0];return u(e)},saveDebt:e=>m(()=>(0,r.cx)(e)),removeDebt:e=>m(()=>(0,r.BH)(e)),saveSalary:e=>m(()=>(0,r.C1)(e)),saveSavings:e=>m(()=>(0,r.Nt)(e)),saveMonth:e=>m(()=>(0,r.a1)(e)),savePreferences:(0,n.useCallback)(async e=>{try{await (0,r.PK)(e),a(a=>({...a,preferences:e}))}catch(e){throw d(e.message||"Erro ao salvar prefer\xeancias"),e}},[]),saveUser:e=>m(()=>(0,r.TK)(e))}}},14955:(e,a,t)=>{"use strict";t.d(a,{D:()=>o,N:()=>i});var n=t(73365),r=t(1521);let s=(0,r.createContext)();function i(e){let{children:a}=e,[t,i]=(0,r.useState)("light");(0,r.useEffect)(()=>{{let e=localStorage.getItem("theme"),a=window.matchMedia("(prefers-color-scheme: dark)").matches?"dark":"light",t=e||a;i(t),o(t)}},[]);let o=e=>{{let a=document.documentElement;"dark"===e?a.classList.add("dark"):a.classList.remove("dark")}};return(0,n.jsx)(s.Provider,{value:{theme:t,toggleTheme:()=>{let e="light"===t?"dark":"light";i(e),o(e),localStorage.setItem("theme",e)}},children:a})}function o(){let e=(0,r.useContext)(s);if(!e)throw Error("useTheme must be used within ThemeProvider");return e}},16712:e=>{e.exports={container:"SavingsProgressChart_container__9rH50",title:"SavingsProgressChart_title__u_IaG",chartContainer:"SavingsProgressChart_chartContainer__rMrIW",progressContainer:"SavingsProgressChart_progressContainer__Hm44C",progressBar:"SavingsProgressChart_progressBar__zr3sP",progressFill:"SavingsProgressChart_progressFill__aJMCl",progressText:"SavingsProgressChart_progressText__GpJLz"}},18539:(e,a,t)=>{"use strict";function n(){let e=arguments.length>0&&void 0!==arguments[0]?arguments[0]:0;return new Intl.NumberFormat("pt-BR",{style:"currency",currency:"BRL"}).format(Number.isFinite(e)?e:0)}function r(){let e=arguments.length>0&&void 0!==arguments[0]?arguments[0]:0;return"".concat(Math.round(100*(e||0)),"%")}function s(e){if(!e)return"—";try{return new Intl.DateTimeFormat("pt-BR").format(new Date(e))}catch(a){return e}}t.d(a,{Yq:()=>s,l9:()=>r,vv:()=>n})},20463:(e,a,t)=>{Promise.resolve().then(t.bind(t,73111))},23770:e=>{e.exports={button:"Button_button__aJ0V6",primary:"Button_primary__NvDjW",secondary:"Button_secondary__PNkAv",danger:"Button_danger__4QObZ",outline:"Button_outline__VR8yn",ghost:"Button_ghost__8k_dh",small:"Button_small__Dzghh",medium:"Button_medium__6mHOF",large:"Button_large__P9YO9",fullWidth:"Button_fullWidth__uTKaF",loadingContainer:"Button_loadingContainer__AyB9x",spinner:"Button_spinner__7wA18",spin:"Button_spin__rWqPt"}},37180:e=>{e.exports={container:"SummaryCard_container__ZHamI",row:"SummaryCard_row__kc4Dt",title:"SummaryCard_title__sOFE8",highlight:"SummaryCard_highlight__6XCyw",line:"SummaryCard_line__TT926",separator:"SummaryCard_separator__ex9I2"}},40731:(e,a,t)=>{"use strict";t.d(a,{$:()=>i});var n=t(73365),r=t(23770),s=t.n(r);function i(e){let{title:a,onClick:t,variant:r="primary",size:i="medium",disabled:o=!1,loading:l=!1,fullWidth:c=!1,type:d="button",className:u="",...m}=e,h=[s().button,s()[r],s()[i],o&&s().disabled,c&&s().fullWidth,u].filter(Boolean).join(" ");return(0,n.jsx)("button",{type:d,className:h,onClick:t,disabled:o||l,...m,children:l?(0,n.jsxs)("span",{className:s().loadingContainer,children:[(0,n.jsx)("span",{className:s().spinner}),(0,n.jsx)("span",{children:"Carregando..."})]}):a})}},44944:(e,a,t)=>{"use strict";t.d(a,{O:()=>l});var n=t(73365),r=t(1521),s=t(1702),i=t(78630),o=t(56545);function l(e){let{children:a}=e,{isAuthenticated:t,loading:l}=(0,i.A)(),c=(0,s.useRouter)();return((0,r.useEffect)(()=>{l||t||c.push("/login")},[t,l,c]),l)?(0,n.jsx)(o.x,{message:"Verificando autentica\xe7\xe3o..."}):t?a:null}},50515:e=>{e.exports={overlay:"ConfirmModal_overlay__V1Ef1",fadeIn:"ConfirmModal_fadeIn__w93sG",modal:"ConfirmModal_modal__Mma3T",slideUp:"ConfirmModal_slideUp__Eu4R1",header:"ConfirmModal_header__bcBTI",title:"ConfirmModal_title__nf5_c",closeButton:"ConfirmModal_closeButton__Z7Uxs",body:"ConfirmModal_body__no6Dr",message:"ConfirmModal_message__69wA2",actions:"ConfirmModal_actions__FXeaP",cancelButton:"ConfirmModal_cancelButton__2aVIX",slideUpBottom:"ConfirmModal_slideUpBottom__xZEp_"}},56526:e=>{e.exports={container:"DebtsChart_container__6nGJO",title:"DebtsChart_title__p0Hv_",chartContainer:"DebtsChart_chartContainer__awGBj",emptyContainer:"DebtsChart_emptyContainer___YkYQ",emptyText:"DebtsChart_emptyText__IFkq0",legend:"DebtsChart_legend__mnvdr",legendItem:"DebtsChart_legendItem__qqlK5",legendColor:"DebtsChart_legendColor__yx6A5",legendText:"DebtsChart_legendText__mGipG"}},56545:(e,a,t)=>{"use strict";t.d(a,{x:()=>i});var n=t(73365),r=t(4954),s=t.n(r);function i(e){let{message:a="Carregando..."}=e;return(0,n.jsxs)("div",{className:s().container,children:[(0,n.jsx)("div",{className:s().spinner}),(0,n.jsx)("p",{className:s().message,children:a})]})}},58355:e=>{e.exports={overlay:"AddQuickActionModal_overlay__hT9Hk",fadeIn:"AddQuickActionModal_fadeIn__ahe96",modal:"AddQuickActionModal_modal__9zC0z",slideUp:"AddQuickActionModal_slideUp__g5Z_i",header:"AddQuickActionModal_header__Nnpds",title:"AddQuickActionModal_title__1V0vj",closeButton:"AddQuickActionModal_closeButton__iSaOs",form:"AddQuickActionModal_form___cC_z",error:"AddQuickActionModal_error__cf3u0",field:"AddQuickActionModal_field__LET96",label:"AddQuickActionModal_label__fWQN_",input:"AddQuickActionModal_input__vqTN2",select:"AddQuickActionModal_select__YtwfW",hint:"AddQuickActionModal_hint__m7Ken",iconGrid:"AddQuickActionModal_iconGrid__yhlm9",iconButton:"AddQuickActionModal_iconButton__UcMB6",iconButtonActive:"AddQuickActionModal_iconButtonActive__lOjVS",selectedIcon:"AddQuickActionModal_selectedIcon__TT0lK",iconPreview:"AddQuickActionModal_iconPreview__Vj8A1",existingActions:"AddQuickActionModal_existingActions__cP2T5",actionsList:"AddQuickActionModal_actionsList__jxWio",actionItem:"AddQuickActionModal_actionItem__1sy1G",dragging:"AddQuickActionModal_dragging__HajZe",actionInfo:"AddQuickActionModal_actionInfo__jT63z",dragHandle:"AddQuickActionModal_dragHandle__ptXW8",defaultBadge:"AddQuickActionModal_defaultBadge__OqDtT",actionIcon:"AddQuickActionModal_actionIcon__2nURl",actionDetails:"AddQuickActionModal_actionDetails__Ox9i_",actionLabel:"AddQuickActionModal_actionLabel__D0iGM",actionRoute:"AddQuickActionModal_actionRoute__x7Fli",removeButton:"AddQuickActionModal_removeButton__N1p22",actions:"AddQuickActionModal_actions___sCny",cancelButton:"AddQuickActionModal_cancelButton__xrcDB"}},64785:(e,a,t)=>{"use strict";async function n(e){let a=arguments.length>1&&void 0!==arguments[1]?arguments[1]:{},t=localStorage.getItem("auth_token"),n=await fetch("".concat("http://localhost:3333/api").concat(e),{headers:{"Content-Type":"application/json",...t&&{Authorization:"Bearer ".concat(t)},...a.headers||{}},...a});if(!n.ok)throw 401===n.status&&(localStorage.removeItem("auth_token"),localStorage.removeItem("auth_user"),window.location.href="/login"),Error((await n.json().catch(()=>({message:n.statusText}))).message||"Erro ao comunicar com a API");return 204===n.status?null:n.json()}function r(){return n("/dados")}function s(e){return n("/dividas",{method:"POST",body:JSON.stringify(e)})}function i(e){return n("/dividas/".concat(e),{method:"DELETE"})}function o(e){return n("/salario",{method:"POST",body:JSON.stringify(e)})}function l(e){return n("/poupanca",{method:"POST",body:JSON.stringify(e)})}function c(e){return n("/meses",{method:"POST",body:JSON.stringify(e)})}function d(e){return n("/preferencias",{method:"POST",body:JSON.stringify(e)})}function u(e){return n("/acoes-rapidas",{method:"POST",body:JSON.stringify(e)})}function m(e){return n("/acoes-rapidas/ordem",{method:"POST",body:JSON.stringify({routeOrder:e})})}function h(e){return n("/acoes-rapidas/".concat(encodeURIComponent(e)),{method:"DELETE"})}function _(e){return n("/usuario",{method:"POST",body:JSON.stringify(e)})}t.d(a,{BH:()=>i,C1:()=>o,IG:()=>m,Nt:()=>l,PK:()=>d,TK:()=>_,UE:()=>h,a1:()=>c,cx:()=>s,dR:()=>r,wn:()=>u})},68567:(e,a,t)=>{"use strict";t.d(a,{C:()=>n});let n=[{href:"/",label:"Dashboard",icon:"\uD83D\uDCCA"},{href:"/dividas",label:"D\xedvidas",icon:"\uD83D\uDCB3"},{href:"/salario",label:"Sal\xe1rio",icon:"\uD83D\uDCB0"},{href:"/poupanca",label:"Poupan\xe7a",icon:"\uD83C\uDFE6"},{href:"/planejamento",label:"Planejamento",icon:"\uD83D\uDCC5"}];n.map(e=>e.href).filter(e=>"/"!==e)},73111:(e,a,t)=>{"use strict";t.r(a),t.d(a,{default:()=>G});var n=t(73365),r=t(1521),s=t(1702),i=t(44944),o=t(13876),l=t(64785),c=t(18539),d=t(37180),u=t.n(d);function m(e){let{summary:a}=e;return a?(0,n.jsxs)("div",{className:u().container,children:[(0,n.jsxs)("div",{className:u().row,children:[(0,n.jsx)("span",{className:u().title,children:"D\xedvidas"}),(0,n.jsx)("span",{className:u().highlight,children:(0,c.vv)(a.debtsTotals.total)})]}),(0,n.jsxs)("p",{className:u().line,children:["Pago: ",(0,c.vv)(a.debtsTotals.paid)," | Restante:"," ",(0,c.vv)(a.debtsTotals.remaining)]}),(0,n.jsxs)("p",{className:u().line,children:["Parcelas restantes: ",a.debtsTotals.remainingInstallments," | Parcela m\xe9dia:"," ",(0,c.vv)(a.debtsTotals.averageInstallment)]}),(0,n.jsx)("div",{className:u().separator}),(0,n.jsxs)("div",{className:u().row,children:[(0,n.jsx)("span",{className:u().title,children:"Sal\xe1rio l\xedquido"}),(0,n.jsx)("span",{className:u().highlight,children:(0,c.vv)(a.salary.netIncome)})]}),(0,n.jsxs)("p",{className:u().line,children:["Ap\xf3s d\xedvidas: ",(0,c.vv)(a.cashFlow.availableAfterDebts)," ",a.cashFlow.isNegative?"(aten\xe7\xe3o)":""]}),(0,n.jsx)("div",{className:u().separator}),(0,n.jsxs)("div",{className:u().row,children:[(0,n.jsx)("span",{className:u().title,children:"Poupan\xe7a"}),(0,n.jsx)("span",{className:u().highlight,children:(0,c.vv)(a.savings.savedBalance)})]}),(0,n.jsxs)("p",{className:u().line,children:["Meta: ",(0,c.vv)(a.savings.currentGoal)," (",(0,c.l9)(a.savings.progress),")"]})]}):null}var h=t(2356),_=t(14955),g=t(56526),x=t.n(g);function f(e){let{summary:a}=e,{theme:t}=(0,_.D)(),[s,i]=(0,r.useState)("#1F2937");if((0,r.useEffect)(()=>{i("dark"===t?"#D1D5DB":"#1F2937")},[t]),!a||!a.debtsTotals)return null;let{paid:o,remaining:l,total:d}=a.debtsTotals,u=[{x:"Pago",y:o,color:"#10B981"},{x:"Restante",y:l,color:"#EF4444"}].filter(e=>e.y>0);return 0===u.length?(0,n.jsxs)("div",{className:x().container,children:[(0,n.jsx)("h3",{className:x().title,children:"Distribui\xe7\xe3o de D\xedvidas"}),(0,n.jsx)("div",{className:x().emptyContainer,children:(0,n.jsx)("p",{className:x().emptyText,children:"Nenhuma d\xedvida cadastrada"})})]}):(0,n.jsxs)("div",{className:x().container,children:[(0,n.jsx)("h3",{className:x().title,children:"Distribui\xe7\xe3o de D\xedvidas"}),(0,n.jsx)("div",{className:x().chartContainer,children:(0,n.jsx)(h.l,{data:u,width:300,height:300,colorScale:["#10B981","#EF4444"],innerRadius:60,labelRadius:e=>{let{innerRadius:a}=e;return a+30},style:{labels:{fill:s,fontSize:12,fontWeight:"600"}},labelPlacement:"perpendicular"})}),(0,n.jsxs)("div",{className:x().legend,children:[(0,n.jsxs)("div",{className:x().legendItem,children:[(0,n.jsx)("div",{className:x().legendColor,style:{backgroundColor:"#10B981"}}),(0,n.jsxs)("span",{className:x().legendText,children:["Pago: ",(0,c.vv)(o)," (",(o/d*100).toFixed(1),"%)"]})]}),(0,n.jsxs)("div",{className:x().legendItem,children:[(0,n.jsx)("div",{className:x().legendColor,style:{backgroundColor:"#EF4444"}}),(0,n.jsxs)("span",{className:x().legendText,children:["Restante: ",(0,c.vv)(l)," (",(l/d*100).toFixed(1),"%)"]})]})]})]})}var v=t(3829),p=t(20096),j=t(33740),y=t(42259),N=t(87233),C=t.n(N);function b(e){var a;let{summary:t}=e,{theme:s}=(0,_.D)(),[i,o]=(0,r.useState)("#E5E7EB"),[l,d]=(0,r.useState)("#6B7280"),[u,m]=(0,r.useState)("#1F2937");if((0,r.useEffect)(()=>{"dark"===s?(o("#374151"),d("#9CA3AF"),m("#D1D5DB")):(o("#E5E7EB"),d("#6B7280"),m("#1F2937"))},[s]),!t||!t.salary||!t.cashFlow)return null;let{netIncome:h}=t.salary,{availableAfterDebts:g}=t.cashFlow,x=(null==(a=t.debtsTotals)?void 0:a.averageInstallment)||0;return(0,n.jsxs)("div",{className:C().container,children:[(0,n.jsx)("h3",{className:C().title,children:"Fluxo de Caixa Mensal"}),(0,n.jsx)("div",{className:C().chartContainer,children:(0,n.jsxs)(v.t,{theme:p.g.material,width:300,height:220,domainPadding:{x:30},children:[(0,n.jsx)(j.O,{style:{axis:{stroke:i},tickLabels:{fill:l,fontSize:11,fontWeight:"600"}}}),(0,n.jsx)(j.O,{dependentAxis:!0,tickFormat:e=>"R$ ".concat((e/1e3).toFixed(0),"k"),style:{axis:{stroke:i},tickLabels:{fill:l,fontSize:10,fontWeight:"500"}}}),(0,n.jsx)(y.k,{data:[{x:"Sal\xe1rio\nL\xedquido",y:h},{x:"Ap\xf3s\nD\xedvidas",y:g}],x:"x",y:"y",barWidth:60,style:{data:{fill:e=>{let{datum:a}=e;return a.y===h?"#6366F1":a.y<0?"#EF4444":"#10B981"}}},cornerRadius:{top:8},labels:e=>{let{datum:a}=e;return(0,c.vv)(a.y)},style:{labels:{fontSize:10,fill:u,fontWeight:"600"}}})]})}),(0,n.jsx)("div",{className:C().info,children:(0,n.jsxs)("div",{className:C().infoItem,children:[(0,n.jsx)("span",{className:C().infoLabel,children:"Gasto com d\xedvidas:"}),(0,n.jsxs)("span",{className:C().infoValue,children:[(0,c.vv)(x),"/m\xeas"]})]})})]})}var A=t(16712),k=t.n(A);function S(e){let{summary:a}=e,{theme:t}=(0,_.D)(),[s,i]=(0,r.useState)("#E5E7EB"),[o,l]=(0,r.useState)("#6B7280"),[d,u]=(0,r.useState)("#1F2937");if((0,r.useEffect)(()=>{"dark"===t?(i("#374151"),l("#9CA3AF"),u("#D1D5DB")):(i("#E5E7EB"),l("#6B7280"),u("#1F2937"))},[t]),!a||!a.savings)return null;let{savedBalance:m,currentGoal:h}=a.savings,g=h>0?m/h*100:0;return(0,n.jsxs)("div",{className:k().container,children:[(0,n.jsx)("h3",{className:k().title,children:"Progresso da Poupan\xe7a"}),(0,n.jsx)("div",{className:k().chartContainer,children:(0,n.jsxs)(v.t,{theme:p.g.material,width:300,height:220,domainPadding:{x:30},children:[(0,n.jsx)(j.O,{style:{axis:{stroke:s},tickLabels:{fill:o,fontSize:11,fontWeight:"600"}}}),(0,n.jsx)(j.O,{dependentAxis:!0,tickFormat:e=>"R$ ".concat((e/1e3).toFixed(0),"k"),style:{axis:{stroke:s},tickLabels:{fill:o,fontSize:10,fontWeight:"500"}}}),(0,n.jsx)(y.k,{data:[{x:"Saldo\nAtual",y:m},{x:"Meta",y:h}],x:"x",y:"y",barWidth:60,style:{data:{fill:e=>{let{datum:a}=e;return"Saldo\nAtual"===a.x?"#6366F1":"#10B981"}}},cornerRadius:{top:8},labels:e=>{let{datum:a}=e;return(0,c.vv)(a.y)},style:{labels:{fontSize:10,fill:d,fontWeight:"600"}}})]})}),(0,n.jsxs)("div",{className:k().progressContainer,children:[(0,n.jsx)("div",{className:k().progressBar,children:(0,n.jsx)("div",{className:k().progressFill,style:{width:"".concat(Math.min(g,100),"%")}})}),(0,n.jsxs)("p",{className:k().progressText,children:[(0,c.l9)(g)," da meta alcan\xe7ada"]})]})]})}var w=t(4788),E=t.n(w);function B(e){let{months:a}=e,{theme:t}=(0,_.D)(),[s,i]=(0,r.useState)("#E5E7EB"),[o,l]=(0,r.useState)("#6B7280"),[d,u]=(0,r.useState)("#1F2937");if((0,r.useEffect)(()=>{"dark"===t?(i("#374151"),l("#9CA3AF"),u("#D1D5DB")):(i("#E5E7EB"),l("#6B7280"),u("#1F2937"))},[t]),!a||0===a.length)return(0,n.jsxs)("div",{className:E().container,children:[(0,n.jsx)("h3",{className:E().title,children:"Planejamento Mensal"}),(0,n.jsx)("div",{className:E().emptyContainer,children:(0,n.jsx)("p",{className:E().emptyText,children:"Nenhum m\xeas planejado"})})]});let m=a.slice(-6).map(e=>({x:e.label.substring(0,3),y:e.total||0,fullLabel:e.label}));return(0,n.jsxs)("div",{className:E().container,children:[(0,n.jsx)("h3",{className:E().title,children:"Planejamento Mensal"}),(0,n.jsx)("div",{className:E().chartContainer,children:(0,n.jsxs)(v.t,{theme:p.g.material,width:Math.min(400,100*m.length+100),height:250,domainPadding:{x:20},children:[(0,n.jsx)(j.O,{style:{axis:{stroke:s},tickLabels:{fill:o,fontSize:10,fontWeight:"600"}}}),(0,n.jsx)(j.O,{dependentAxis:!0,tickFormat:e=>"R$ ".concat((e/1e3).toFixed(0),"k"),style:{axis:{stroke:s},tickLabels:{fill:o,fontSize:9,fontWeight:"500"}}}),(0,n.jsx)(y.k,{data:m,x:"x",y:"y",barWidth:30,style:{data:{fill:"#6366F1"}},cornerRadius:{top:6},labels:e=>{let{datum:a}=e;return a.y>0?(0,c.vv)(a.y):""},style:{labels:{fontSize:9,fill:d,fontWeight:"600"}}})]})}),(0,n.jsxs)("div",{className:E().summary,children:[(0,n.jsxs)("p",{className:E().summaryText,children:["Total planejado: ",(0,c.vv)(m.reduce((e,a)=>e+a.y,0))]}),(0,n.jsxs)("p",{className:E().summarySubtext,children:[m.length," ",1===m.length?"m\xeas":"meses"," exibidos"]})]})]})}var D=t(56545),T=t(40731),M=t(50515),P=t.n(M);function I(e){let{isOpen:a,onClose:t,onConfirm:s,title:i,message:o,confirmText:l="Confirmar",cancelText:c="Cancelar",variant:d="danger"}=e,[u,m]=(0,r.useState)(!1),h=async()=>{try{m(!0),await s(),t()}catch(e){console.error("Erro na confirma\xe7\xe3o:",e)}finally{m(!1)}};return a?(0,n.jsx)("div",{className:P().overlay,onClick:t,children:(0,n.jsxs)("div",{className:P().modal,onClick:e=>e.stopPropagation(),children:[(0,n.jsxs)("div",{className:P().header,children:[(0,n.jsx)("h3",{className:P().title,children:i}),(0,n.jsx)("button",{className:P().closeButton,onClick:t,"aria-label":"Fechar",disabled:u,children:"\xd7"})]}),(0,n.jsx)("div",{className:P().body,children:(0,n.jsx)("p",{className:P().message,children:o})}),(0,n.jsxs)("div",{className:P().actions,children:[(0,n.jsx)(T.$,{title:c,variant:"outline",onClick:t,className:P().cancelButton,disabled:u}),(0,n.jsx)(T.$,{title:u?"Processando...":l,variant:d,onClick:h,disabled:u})]})]})}):null}var O=t(58355),F=t.n(O),q=t(68567);let R=["\uD83D\uDCB3","\uD83D\uDCB0","\uD83C\uDFE6","\uD83D\uDCC5","\uD83D\uDCCA","\uD83D\uDCB5","\uD83D\uDCB8","\uD83D\uDCBC","\uD83C\uDFE0","\uD83D\uDE97","✈️","\uD83C\uDF54","\uD83D\uDED2","\uD83C\uDFAE","\uD83D\uDCF1","\uD83D\uDCBB","\uD83C\uDF93","\uD83C\uDFE5","⚽","\uD83C\uDFAC","\uD83C\uDFB5","\uD83D\uDCDA","\uD83C\uDFA8","\uD83C\uDFCB️","\uD83E\uDDD8","\uD83C\uDF55","☕","\uD83C\uDF70","\uD83C\uDF81","⭐"];function Q(e){var a;let{isOpen:t,onClose:s,onAdd:i,onRemove:o,onReorder:l,existingActions:c=[],defaultActions:d=[]}=e,[u,m]=(0,r.useState)(""),[h,_]=(0,r.useState)("⭐"),[g,x]=(0,r.useState)(""),[f,v]=(0,r.useState)(""),[p,j]=(0,r.useState)({isOpen:!1,index:null,action:null}),[y,N]=(0,r.useState)(null),[C,b]=(0,r.useState)(c);if((0,r.useEffect)(()=>{b(c)},[c]),!t)return null;let A=()=>{m(""),_("⭐"),x(""),v(""),s()};return(0,n.jsx)("div",{className:F().overlay,onClick:A,children:(0,n.jsxs)("div",{className:F().modal,onClick:e=>e.stopPropagation(),children:[(0,n.jsxs)("div",{className:F().header,children:[(0,n.jsx)("h2",{className:F().title,children:"Gerenciar A\xe7\xf5es R\xe1pidas"}),(0,n.jsx)("button",{className:F().closeButton,onClick:A,"aria-label":"Fechar",children:"\xd7"})]}),(0,n.jsxs)("form",{onSubmit:e=>{if(e.preventDefault(),v(""),!u.trim())return void v("O nome da a\xe7\xe3o \xe9 obrigat\xf3rio");if(!g.trim())return void v("A rota \xe9 obrigat\xf3ria");let a=g.trim().startsWith("/")?g.trim():"/".concat(g.trim());return c.some(e=>e.label.toLowerCase()===u.toLowerCase())?void v("J\xe1 existe uma a\xe7\xe3o com este nome"):c.some(e=>e.route===a)?void v("J\xe1 existe uma a\xe7\xe3o com esta rota"):void(i({label:u.trim(),icon:h,route:a}),m(""),_("⭐"),x(""),s())},className:F().form,children:[f&&(0,n.jsx)("div",{className:F().error,children:f}),(0,n.jsxs)("div",{className:F().field,children:[(0,n.jsx)("label",{className:F().label,children:"Nome da A\xe7\xe3o"}),(0,n.jsx)("input",{type:"text",className:F().input,value:u,onChange:e=>m(e.target.value),placeholder:"Ex: Investimentos",required:!0})]}),(0,n.jsxs)("div",{className:F().field,children:[(0,n.jsx)("label",{className:F().label,children:"Rota"}),(0,n.jsxs)("select",{className:F().select,value:g,onChange:e=>x(e.target.value),required:!0,children:[(0,n.jsx)("option",{value:"",children:"Selecione uma rota"}),q.C.filter(e=>"/"!==e.href).map(e=>(0,n.jsxs)("option",{value:e.href,children:[e.label," (",e.href,")"]},e.href))]}),(0,n.jsx)("small",{className:F().hint,children:"Selecione a rota que ser\xe1 acessada quando clicar na a\xe7\xe3o"})]}),(0,n.jsxs)("div",{className:F().field,children:[(0,n.jsx)("label",{className:F().label,children:"\xcdcone"}),(0,n.jsx)("div",{className:F().iconGrid,children:R.map(e=>(0,n.jsx)("button",{type:"button",className:"".concat(F().iconButton," ").concat(h===e?F().iconButtonActive:""),onClick:()=>_(e),children:e},e))}),(0,n.jsxs)("div",{className:F().selectedIcon,children:["\xcdcone selecionado: ",(0,n.jsx)("span",{className:F().iconPreview,children:h})]})]}),c.length>0&&(0,n.jsxs)("div",{className:F().existingActions,children:[(0,n.jsx)("label",{className:F().label,children:"A\xe7\xf5es R\xe1pidas Existentes"}),(0,n.jsx)("small",{className:F().hint,children:"Arraste para reordenar ou clique no \xedcone \uD83D\uDDD1️ para remover"}),(0,n.jsx)("div",{className:F().actionsList,children:C.map((e,a)=>{let t=d.some(a=>a.route===e.route);return(0,n.jsxs)("div",{className:"".concat(F().actionItem," ").concat(y===a?F().dragging:""),draggable:!0,onDragStart:()=>N(a),onDragOver:e=>{e.preventDefault(),e.dataTransfer.dropEffect="move"},onDrop:e=>{if(e.preventDefault(),null===y||y===a)return;let t=[...C],n=t[y];t.splice(y,1),t.splice(a,0,n),b(t),l&&l(t.map(e=>e.route)),N(null)},onDragEnd:()=>{N(null)},children:[(0,n.jsxs)("div",{className:F().actionInfo,children:[(0,n.jsx)("span",{className:F().dragHandle,children:"☰"}),(0,n.jsx)("span",{className:F().actionIcon,children:e.icon}),(0,n.jsxs)("div",{className:F().actionDetails,children:[(0,n.jsxs)("span",{className:F().actionLabel,children:[e.label,t&&(0,n.jsx)("span",{className:F().defaultBadge,children:"Padr\xe3o"})]}),(0,n.jsx)("span",{className:F().actionRoute,children:e.route})]})]}),o&&(0,n.jsx)("button",{type:"button",className:F().removeButton,onClick:()=>{j({isOpen:!0,index:a,action:e})},"aria-label":"Remover ".concat(e.label),children:"\uD83D\uDDD1️"})]},"".concat(e.route,"-").concat(a))})})]}),(0,n.jsxs)("div",{className:F().actions,children:[(0,n.jsx)(T.$,{type:"button",title:"Cancelar",variant:"outline",onClick:A,className:F().cancelButton}),(0,n.jsx)(T.$,{type:"submit",title:"Adicionar",variant:"primary"})]})]}),(0,n.jsx)(I,{isOpen:p.isOpen,onClose:()=>j({isOpen:!1,index:null,action:null}),onConfirm:()=>{p.action&&o&&o(p.action),j({isOpen:!1,index:null,action:null})},title:"Remover A\xe7\xe3o R\xe1pida",message:'Deseja remover a a\xe7\xe3o "'.concat(null==(a=p.action)?void 0:a.label,'"?'),confirmText:"Remover",cancelText:"Cancelar",variant:"danger"})]})})}var L=t(9161),z=t.n(L);let J=[{label:"D\xedvidas",icon:"\uD83D\uDCB3",route:"/dividas"},{label:"Sal\xe1rio",icon:"\uD83D\uDCB0",route:"/salario"},{label:"Poupan\xe7a",icon:"\uD83C\uDFE6",route:"/poupanca"},{label:"Planejamento",icon:"\uD83D\uDCC5",route:"/planejamento"}];function G(){let e=(0,s.useRouter)(),{data:a,loading:t,error:c,refresh:d,operationLoading:u}=(0,o.c)(),[h,_]=(0,r.useState)([]),[g,x]=(0,r.useState)([]),[v,p]=(0,r.useState)(null),[j,y]=(0,r.useState)(!1);(0,r.useEffect)(()=>{if(null==a?void 0:a.quickActions){let e=a.quickActions.filter(e=>!e.isDefault&&e.order>=0),t=J.filter(e=>!a.quickActions.some(a=>a.route===e.route&&a.order>=0)).map(e=>e.route),n=a.quickActions.filter(e=>e.order>=0).sort((e,a)=>e.order-a.order).map(e=>e.route);_(e),x(t),n.length>0&&p(n)}},[null==a?void 0:a.quickActions]);let N=async e=>{try{let a=[...k.filter(a=>a.route!==e.route),e].map((e,a)=>({label:e.label,icon:e.icon,route:e.route,order:a,isDefault:J.some(a=>a.route===e.route)}));await (0,l.wn)(a),await d(!0)}catch(e){console.error("Erro ao adicionar a\xe7\xe3o:",e)}},C=async e=>{try{await (0,l.UE)(e.route);let a=k.filter(a=>a.route!==e.route).map((e,a)=>({label:e.label,icon:e.icon,route:e.route,order:a,isDefault:J.some(a=>a.route===e.route)}));await (0,l.wn)(a),await d(!0)}catch(e){console.error("Erro ao remover a\xe7\xe3o:",e)}},A=async e=>{try{await (0,l.IG)(e),await d(!0)}catch(e){console.error("Erro ao reordenar a\xe7\xf5es:",e)}},k=(0,r.useMemo)(()=>{if((null==a?void 0:a.quickActions)&&a.quickActions.length>0)return a.quickActions.filter(e=>e.order>=0).map(e=>({label:e.label,icon:e.icon,route:e.route}));let e=[...J.filter(e=>!g.includes(e.route)),...h];if(v&&v.length>0){let a=[],t=new Map(e.map(e=>[e.route,e]));return v.forEach(e=>{t.has(e)&&(a.push(t.get(e)),t.delete(e))}),t.forEach(e=>a.push(e)),a}return e},[null==a?void 0:a.quickActions,J,h,g,v]);return t&&!a||u?(0,n.jsx)(i.O,{children:(0,n.jsx)(D.x,{message:u?"Processando...":"Carregando dados..."})}):(0,n.jsx)(i.O,{children:(0,n.jsxs)("div",{className:z().container,children:[(0,n.jsx)("h1",{className:z().header,children:"Dashboard"}),c&&(0,n.jsx)("div",{className:z().error,children:c}),a&&(0,n.jsxs)(n.Fragment,{children:[(0,n.jsx)(m,{summary:a.summary}),(0,n.jsxs)("div",{className:z().quickActions,children:[(0,n.jsx)("h2",{className:z().quickActionsTitle,children:"A\xe7\xf5es R\xe1pidas"}),(0,n.jsxs)("div",{className:z().quickActionsGrid,children:[k.map((a,t)=>(0,n.jsxs)("button",{className:z().quickActionCard,onClick:()=>e.push(a.route),children:[(0,n.jsx)("span",{className:z().quickActionIcon,children:a.icon}),(0,n.jsx)("span",{className:z().quickActionText,children:a.label})]},"".concat(a.route,"-").concat(t))),(0,n.jsxs)("button",{className:"".concat(z().quickActionCard," ").concat(z().addActionCard),onClick:()=>y(!0),children:[(0,n.jsx)("span",{className:z().quickActionIcon,children:"➕"}),(0,n.jsx)("span",{className:z().quickActionText,children:"Adicionar"})]})]})]}),(0,n.jsx)(Q,{isOpen:j,onClose:()=>y(!1),onAdd:N,onRemove:C,onReorder:A,existingActions:k,defaultActions:J}),(0,n.jsx)("h2",{className:z().sectionTitle,children:"Visualiza\xe7\xf5es"}),(0,n.jsxs)("div",{className:z().chartsGrid,children:[(0,n.jsx)("div",{className:z().chartColumn,children:(0,n.jsx)(f,{summary:a.summary})}),(0,n.jsx)("div",{className:z().chartColumn,children:(0,n.jsx)(b,{summary:a.summary})}),(0,n.jsx)("div",{className:z().chartColumn,children:(0,n.jsx)(S,{summary:a.summary})})]}),(0,n.jsx)(B,{months:a.months})]})]})})}},78630:(e,a,t)=>{"use strict";t.d(a,{AuthProvider:()=>u,A:()=>m});var n=t(73365),r=t(1521),s=t(1702);async function i(e){let a=arguments.length>1&&void 0!==arguments[1]?arguments[1]:{};try{let t=await fetch("".concat("http://localhost:3333/api").concat(e),{headers:{"Content-Type":"application/json",...a.headers||{}},...a});if(!t.ok){let e="Erro ao comunicar com a API";try{e=(await t.json()).message||e}catch(a){e=t.statusText||e}throw Error(e)}if(204===t.status)return null;return await t.json()}catch(e){if(e instanceof Error)throw e;throw Error(e.message||"Erro desconhecido")}}async function o(e,a){if(!e||!a)throw Error("Email e senha s\xe3o obrigat\xf3rios");if(!/^[^\s@]+@[^\s@]+\.[^\s@]+$/.test(e.trim()))throw Error("Email inv\xe1lido");return i("/auth/login",{method:"POST",body:JSON.stringify({email:e.trim().toLowerCase(),password:a})})}async function l(e,a){let t=arguments.length>2&&void 0!==arguments[2]?arguments[2]:"";if(!e||!a)throw Error("Email e senha s\xe3o obrigat\xf3rios");if(!/^[^\s@]+@[^\s@]+\.[^\s@]+$/.test(e.trim()))throw Error("Email inv\xe1lido");if(a.length<6)throw Error("Senha deve ter no m\xednimo 6 caracteres");return i("/auth/register",{method:"POST",body:JSON.stringify({email:e.trim().toLowerCase(),password:a,name:t.trim()})})}async function c(e){if(!e)throw Error("Token n\xe3o fornecido");return i("/auth/me",{method:"GET",headers:{Authorization:"Bearer ".concat(e)}})}let d=(0,r.createContext)(null);function u(e){let{children:a}=e,[t,i]=(0,r.useState)(null),[u,m]=(0,r.useState)(null),[h,_]=(0,r.useState)(!0),g=(0,s.useRouter)(),x=async e=>{try{let a=await c(e);if(!a||!a.user)throw Error("Resposta inv\xe1lida do servidor");i(a.user),m(e),_(!1)}catch(e){i(null),m(null),localStorage.removeItem("auth_token"),localStorage.removeItem("auth_user"),_(!1)}};(0,r.useEffect)(()=>{(async()=>{let e=localStorage.getItem("auth_token"),a=localStorage.getItem("auth_user");e&&a?(m(e),i(JSON.parse(a)),await x(e)):_(!1)})()},[]);let f=async(e,a)=>{try{let t=await o(e,a);if(!t||!t.user||!t.token)throw Error("Resposta inv\xe1lida do servidor");return i(t.user),m(t.token),localStorage.setItem("auth_token",t.token),localStorage.setItem("auth_user",JSON.stringify(t.user)),t}catch(e){throw e}},v=async(e,a,t)=>{try{let n=await l(e,a,t);if(!n||!n.user||!n.token)throw Error("Resposta inv\xe1lida do servidor");return i(n.user),m(n.token),localStorage.setItem("auth_token",n.token),localStorage.setItem("auth_user",JSON.stringify(n.user)),n}catch(e){throw e}};return(0,n.jsx)(d.Provider,{value:{user:t,token:u,loading:h,login:f,register:v,logout:()=>{i(null),m(null),localStorage.removeItem("auth_token"),localStorage.removeItem("auth_user"),g.push("/login")},isAuthenticated:!!t&&!!u},children:a})}function m(){let e=(0,r.useContext)(d);if(!e)throw Error("useAuth deve ser usado dentro de AuthProvider");return e}},87233:e=>{e.exports={container:"CashFlowChart_container__zKzky",title:"CashFlowChart_title__cZ2QK",chartContainer:"CashFlowChart_chartContainer__K7zyV",info:"CashFlowChart_info__gVONx",infoItem:"CashFlowChart_infoItem__DMkoH",infoLabel:"CashFlowChart_infoLabel__ZyT7F",infoValue:"CashFlowChart_infoValue__keJHb"}},98027:(e,a,t)=>{"use strict";t.d(a,{H$:()=>s,gm:()=>i,hi:()=>r});let n={data:null,timestamp:null,version:0};function r(){var e;if((e=n)&&e.timestamp&&Date.now()-e.timestamp<3e5&&null!==n.data)try{return JSON.parse(JSON.stringify(n.data))}catch(e){console.warn("Erro ao deserializar cache:",e),i()}return null}function s(e){try{n={data:JSON.parse(JSON.stringify(e)),timestamp:Date.now(),version:n.version+1}}catch(e){console.warn("Erro ao serializar dados para cache:",e)}}function i(){n={data:null,timestamp:null,version:n.version+1}}}},e=>{e.O(0,[487,862,337,347,131,358],()=>e(e.s=20463)),_N_E=e.O()}]);