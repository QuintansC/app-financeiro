(self.webpackChunk_N_E=self.webpackChunk_N_E||[]).push([[507],{1594:e=>{e.exports={filtersContainer:"DebtFilters_filtersContainer__Vgw97",filterGroup:"DebtFilters_filterGroup__lpRSY",label:"DebtFilters_label__9FpHE",select:"DebtFilters_select__cYZFl",viewButtons:"DebtFilters_viewButtons__OUUmz",viewButton:"DebtFilters_viewButton__vVc4H",viewButtonActive:"DebtFilters_viewButtonActive__3zYSm",viewIcon:"DebtFilters_viewIcon___9wmS",viewLabel:"DebtFilters_viewLabel__Idxdg"}},1702:(e,a,t)=>{"use strict";var l=t(99962);t.o(l,"usePathname")&&t.d(a,{usePathname:function(){return l.usePathname}}),t.o(l,"useRouter")&&t.d(a,{useRouter:function(){return l.useRouter}})},2459:e=>{e.exports={empty:"DebtList_empty__CnO6E",listContainer:"DebtList_listContainer__tu7mR",gridContainer:"DebtList_gridContainer__fvu0_",item:"DebtList_item__Kmlk2",content:"DebtList_content__muHOI",header:"DebtList_header___ecPm",statusBadge:"DebtList_statusBadge__CfrUg",statusPaid:"DebtList_statusPaid__q88Tk",statusInProgress:"DebtList_statusInProgress__oWBsD",statusPending:"DebtList_statusPending__BuuXC",actions:"DebtList_actions__j7IEi",creditor:"DebtList_creditor__1FJZK",editButton:"DebtList_editButton__kFKJ4",deleteButton:"DebtList_deleteButton__rDmWk",markPaidButton:"DebtList_markPaidButton__w8sPZ",line:"DebtList_line__8qcu8",value:"DebtList_value__4G7VW",originalValue:"DebtList_originalValue__W844E",paidValue:"DebtList_paidValue__97UWZ",itemGrid:"DebtList_itemGrid__psJzV"}},4954:e=>{e.exports={container:"LoadingScreen_container__kroiF",spinner:"LoadingScreen_spinner__Id4H8",spin:"LoadingScreen_spin__CRGcH",message:"LoadingScreen_message__9M_gS"}},9161:e=>{e.exports={container:"page_container__jZF7q",header:"page_header__oRW75",error:"page_error__JBrsB",sectionTitle:"page_sectionTitle__6ic_4",quickActionsTitle:"page_quickActionsTitle__xB8Zf",chartsGrid:"page_chartsGrid__peIB4",chartColumn:"page_chartColumn___bIhV",quickActions:"page_quickActions__u1HV5",quickActionsGrid:"page_quickActionsGrid__QQNue",quickActionCard:"page_quickActionCard__pxwYz",quickActionIcon:"page_quickActionIcon__ETgbE",quickActionText:"page_quickActionText__SrmOO",success:"page_success__r1r7Y",actionButtons:"page_actionButtons__aac_D",addButton:"page_addButton__HNjXU",uploadButton:"page_uploadButton__INvZj",addActionCard:"page_addActionCard__f8FAF"}},13876:(e,a,t)=>{"use strict";t.d(a,{c:()=>r});var l=t(1521),s=t(64785),n=t(98027);function r(){let[e,a]=(0,l.useState)(null),[t,r]=(0,l.useState)(!1),[o,i]=(0,l.useState)(!1),[c,d]=(0,l.useState)(null),u=(0,l.useCallback)(async function(){let e=arguments.length>0&&void 0!==arguments[0]&&arguments[0];try{if(r(!0),d(null),!e){let e=(0,n.hi)();if(e){a(e),r(!1);try{let e=await (0,s.dR)();(0,n.H$)(e),a(e)}catch(e){console.warn("Erro ao atualizar cache em background:",e)}return}}let t=await (0,s.dR)();(0,n.H$)(t),a(t)}catch(t){let e=(0,n.hi)();e?(a(e),d("Erro ao atualizar dados. Mostrando dados em cache.")):d(t.message||"Erro ao carregar dados")}finally{r(!1)}},[]);(0,l.useEffect)(()=>{let e=(0,n.hi)();e&&a(e),u()},[u]);let m=(0,l.useCallback)(async e=>{i(!0),d(null);try{let a=await e();return(0,n.gm)(),await u(!0),a}catch(e){throw d(e.message||"Erro inesperado"),e}finally{i(!1)}},[u]);return{data:e,loading:t,operationLoading:o,error:c,refresh:function(){let e=arguments.length>0&&void 0!==arguments[0]&&arguments[0];return u(e)},saveDebt:e=>m(()=>(0,s.cx)(e)),removeDebt:e=>m(()=>(0,s.BH)(e)),saveSalary:e=>m(()=>(0,s.C1)(e)),saveSavings:e=>m(()=>(0,s.Nt)(e)),saveMonth:e=>m(()=>(0,s.a1)(e)),savePreferences:(0,l.useCallback)(async e=>{try{await (0,s.PK)(e),a(a=>({...a,preferences:e}))}catch(e){throw d(e.message||"Erro ao salvar prefer\xeancias"),e}},[]),saveUser:e=>m(()=>(0,s.TK)(e))}}},18539:(e,a,t)=>{"use strict";function l(){let e=arguments.length>0&&void 0!==arguments[0]?arguments[0]:0;return new Intl.NumberFormat("pt-BR",{style:"currency",currency:"BRL"}).format(Number.isFinite(e)?e:0)}function s(){let e=arguments.length>0&&void 0!==arguments[0]?arguments[0]:0;return"".concat(Math.round(100*(e||0)),"%")}function n(e){if(!e)return"—";try{return new Intl.DateTimeFormat("pt-BR").format(new Date(e))}catch(a){return e}}t.d(a,{Yq:()=>n,l9:()=>s,vv:()=>l})},23770:e=>{e.exports={button:"Button_button__aJ0V6",primary:"Button_primary__NvDjW",secondary:"Button_secondary__PNkAv",danger:"Button_danger__4QObZ",outline:"Button_outline__VR8yn",ghost:"Button_ghost__8k_dh",small:"Button_small__Dzghh",medium:"Button_medium__6mHOF",large:"Button_large__P9YO9",fullWidth:"Button_fullWidth__uTKaF",loadingContainer:"Button_loadingContainer__AyB9x",spinner:"Button_spinner__7wA18",spin:"Button_spin__rWqPt"}},28303:(e,a,t)=>{"use strict";t.r(a),t.d(a,{default:()=>F});var l=t(73365),s=t(1521),n=t(44944),r=t(13876),o=t(98027),i=t(64785),c=t(80146),d=t(18539),u=t(2459),m=t.n(u);function p(e){let{debts:a=[],onSelect:t,onDelete:s,onMarkAsPaid:n,viewMode:r="list"}=e;if(!a.length)return(0,l.jsx)("p",{className:m().empty,children:"Nenhuma d\xedvida cadastrada."});let o=(e,a)=>{a&&(a.preventDefault(),a.stopPropagation()),t&&t(e)},i="grid"===r?m().gridContainer:m().listContainer,c="grid"===r?"".concat(m().item," ").concat(m().itemGrid):m().item;return(0,l.jsx)("div",{className:i,children:a.map(e=>{let a=e.paidInstallments>=e.installments?"paid":e.paidInstallments>0?"in-progress":"pending";return(0,l.jsxs)("div",{className:c,children:[(0,l.jsxs)("div",{className:m().content,onClick:a=>o(e,a),role:"button",tabIndex:0,onKeyDown:a=>{("Enter"===a.key||" "===a.key)&&(a.preventDefault(),o(e,a))},children:[(0,l.jsxs)("div",{className:m().header,children:[(0,l.jsx)("span",{className:m().creditor,children:e.creditor}),(0,l.jsx)("span",{className:"".concat(m().statusBadge," ").concat(m()["status".concat("in-progress"===a?"InProgress":a.charAt(0).toUpperCase()+a.slice(1))]),children:{paid:"Paga","in-progress":"Em andamento",pending:"Pendente"}[a]||a})]}),(()=>{let a=e.paidInstallments||0,t=0===a?0:e.paidValue||0,s=(e.totalValue||0)+t,n=e.totalValue||0,r=t>0&&a>0;return(0,l.jsx)(l.Fragment,{children:r?(0,l.jsxs)(l.Fragment,{children:[(0,l.jsxs)("p",{className:m().line,children:["Valor original: ",(0,l.jsx)("span",{className:m().originalValue,children:(0,d.vv)(s)})]}),(0,l.jsxs)("p",{className:m().line,children:["Valor pago: ",(0,l.jsx)("span",{className:m().paidValue,children:(0,d.vv)(t)})]}),(0,l.jsxs)("p",{className:m().line,children:["Valor restante: ",(0,l.jsx)("span",{className:m().value,children:(0,d.vv)(n)})]})]}):(0,l.jsxs)("p",{className:m().line,children:["Total: ",(0,l.jsx)("span",{className:m().value,children:(0,d.vv)(e.totalValue)})]})})})(),(()=>{let a=e.totalValue||0,t=e.installments||1,s=e.paidInstallments||0,n=t-s,r=e.firstInstallmentValue&&e.firstInstallmentValue>0,o=0;return o=n>0?r?s>0?a/n:a/(t-1):a/n:a/(r?t-1:t),(0,l.jsxs)("p",{className:m().line,children:["Parcelas: ",s,"/",t," (",(0,d.vv)(o),")"]})})(),(0,l.jsxs)("p",{className:m().line,children:["Vencimento dia ",e.dueDay||"—"]})]}),(0,l.jsxs)("div",{className:m().actions,children:[e.paidInstallments<e.installments&&n&&(0,l.jsx)("button",{onClick:a=>{a.stopPropagation(),n&&n(e)},className:m().markPaidButton,"aria-label":"Marcar parcelas como pagas",type:"button",children:"✓ Marcar Parcelas"}),(0,l.jsx)("button",{onClick:a=>o(e,a),className:m().editButton,"aria-label":"Editar d\xedvida",type:"button",children:"Editar"}),(0,l.jsx)("button",{onClick:a=>{a.stopPropagation(),s&&s(e.id)},className:m().deleteButton,"aria-label":"Excluir d\xedvida",type:"button",children:"Excluir"})]})]},e.id)})})}var h=t(1594),_=t.n(h);let v=[{value:"all",label:"Todas"},{value:"paid",label:"Pagas"},{value:"in-progress",label:"Em andamento"},{value:"pending",label:"Pendentes"}],g=[{value:"status",label:"Status"},{value:"creditor",label:"Credor"},{value:"totalValue",label:"Valor Total"},{value:"dueDay",label:"Dia de Vencimento"}],f=[{value:"list",label:"Lista",icon:"☰"},{value:"grid",label:"Grade",icon:"⊞"}];function x(e){let{statusFilter:a,onStatusFilterChange:t,sortBy:s,onSortByChange:n,viewMode:r,onViewModeChange:o}=e;return(0,l.jsxs)("div",{className:_().filtersContainer,children:[(0,l.jsxs)("div",{className:_().filterGroup,children:[(0,l.jsx)("label",{className:_().label,children:"Filtrar por status:"}),(0,l.jsx)("select",{className:_().select,value:a,onChange:e=>t(e.target.value),children:v.map(e=>(0,l.jsx)("option",{value:e.value,children:e.label},e.value))})]}),(0,l.jsxs)("div",{className:_().filterGroup,children:[(0,l.jsx)("label",{className:_().label,children:"Ordenar por:"}),(0,l.jsx)("select",{className:_().select,value:s,onChange:e=>n(e.target.value),children:g.map(e=>(0,l.jsx)("option",{value:e.value,children:e.label},e.value))})]}),(0,l.jsxs)("div",{className:_().filterGroup,children:[(0,l.jsx)("label",{className:_().label,children:"Visualiza\xe7\xe3o:"}),(0,l.jsx)("div",{className:_().viewButtons,children:f.map(e=>(0,l.jsxs)("button",{className:"".concat(_().viewButton," ").concat(r===e.value?_().viewButtonActive:""),onClick:()=>o(e.value),"aria-label":e.label,title:e.label,children:[(0,l.jsx)("span",{className:_().viewIcon,children:e.icon}),(0,l.jsx)("span",{className:_().viewLabel,children:e.label})]},e.value))})]})]})}var j=t(40731),b=t(99186),N=t.n(b);let y={id:void 0,creditor:"",totalValue:"",paidValue:"",installments:"",paidInstallments:"",installmentValue:"",dueDay:"",firstInstallmentValue:"",notes:""};function S(e){let{isOpen:a,onClose:t,selectedDebt:n,onSubmit:r}=e,[o,i]=(0,s.useState)(y),[c,d]=(0,s.useState)(!1),[u,m]=(0,s.useState)(!1);if((0,s.useEffect)(()=>{n?i({id:n.id,creditor:n.creditor||"",totalValue:String(n.totalValue||""),paidValue:String(n.paidValue||""),installments:String(n.installments||""),paidInstallments:String(n.paidInstallments||""),installmentValue:String(n.installmentValue||""),dueDay:null!=n.dueDay?String(n.dueDay):"",firstInstallmentValue:null!=n.firstInstallmentValue?String(n.firstInstallmentValue):"",notes:n.notes||""}):i(y),d(!1),m(!1)},[n,a]),(0,s.useEffect)(()=>{if(c)return;let e=e=>{if(""===e||null==e)return 0;let a=Number(String(e).replace(",","."));return isNaN(a)?0:a},a=e(o.totalValue),t=e(o.installments),l=o.firstInstallmentValue&&e(o.firstInstallmentValue)>0;if(a>0&&t>0){let s=0;s=l?a/(t-1):a/t,""===o.installmentValue?i(e=>({...e,installmentValue:s.toFixed(2).replace(".",",")})):Math.abs(e(o.installmentValue)-s)/(s||1)>.01&&i(e=>({...e,installmentValue:s.toFixed(2).replace(".",",")}))}},[o.totalValue,o.installments,o.firstInstallmentValue,c]),(0,s.useEffect)(()=>{if(u)return;let e=e=>{if(""===e||null==e)return 0;let a=Number(String(e).replace(",","."));return isNaN(a)?0:a},a=e(o.paidInstallments),t=e(o.installmentValue);if(a>0&&t>0){let l=a*t;""===o.paidValue?i(e=>({...e,paidValue:l.toFixed(2).replace(".",",")})):Math.abs(e(o.paidValue)-l)/(l||1)>.01&&i(e=>({...e,paidValue:l.toFixed(2).replace(".",",")}))}},[o.paidInstallments,o.installmentValue,u]),!a)return null;function p(e,a){i(t=>({...t,[e]:a}))}return(0,l.jsx)("div",{className:N().overlay,onClick:t,children:(0,l.jsxs)("div",{className:N().modal,onClick:e=>e.stopPropagation(),children:[(0,l.jsxs)("div",{className:N().header,children:[(0,l.jsx)("h2",{className:N().title,children:n?"Editar D\xedvida":"Nova D\xedvida"}),(0,l.jsx)("button",{className:N().closeButton,onClick:t,"aria-label":"Fechar",children:"\xd7"})]}),(0,l.jsxs)("form",{onSubmit:function(e){if(e.preventDefault(),!o.creditor||!o.totalValue)return;let a=e=>{if(""===e||null==e)return 0;let a=Number(String(e).replace(",","."));return isNaN(a)?0:a};null==r||r({...o,totalValue:a(o.totalValue),paidValue:a(o.paidValue),installments:a(o.installments),paidInstallments:a(o.paidInstallments),installmentValue:a(o.installmentValue),dueDay:o.dueDay?Number(o.dueDay):null,firstInstallmentValue:o.firstInstallmentValue?a(o.firstInstallmentValue):null})},className:N().form,children:[(0,l.jsxs)("div",{className:N().field,children:[(0,l.jsx)("label",{className:N().label,children:"Credor"}),(0,l.jsx)("input",{className:N().input,type:"text",value:o.creditor,onChange:e=>p("creditor",e.target.value),placeholder:"Ex: Ita\xfa",required:!0})]}),(0,l.jsxs)("div",{className:N().field,children:[(0,l.jsx)("label",{className:N().label,children:"Valor total"}),(0,l.jsx)("input",{className:N().input,type:"text",value:o.totalValue,onChange:e=>p("totalValue",e.target.value),placeholder:"0,00",inputMode:"numeric",required:!0})]}),(0,l.jsxs)("div",{className:N().field,children:[(0,l.jsxs)("label",{className:N().label,children:["Valor pago",(0,l.jsx)("span",{className:N().hint,children:"(Calculado automaticamente: Parcelas Pagas \xd7 Valor da Parcela)"})]}),(0,l.jsx)("input",{className:N().input,type:"text",value:o.paidValue,onChange:e=>{m(!0),p("paidValue",e.target.value)},onBlur:()=>{m(!1)},placeholder:"0,00",inputMode:"numeric"})]}),(0,l.jsxs)("div",{className:N().field,children:[(0,l.jsxs)("label",{className:N().label,children:["Total restante",(0,l.jsx)("span",{className:N().hint,children:"(Calculado automaticamente: Total - Valor Pago)"})]}),(0,l.jsx)("input",{className:"".concat(N().input," ").concat(N().readonly),type:"text",value:(()=>{let e=e=>{if(""===e||null==e)return 0;let a=Number(String(e).replace(",","."));return isNaN(a)?0:a},a=Math.max(0,e(o.totalValue)-e(o.paidValue));return a>0?a.toFixed(2).replace(".",","):"0,00"})(),readOnly:!0,placeholder:"0,00"})]}),(0,l.jsxs)("div",{className:N().row,children:[(0,l.jsxs)("div",{className:N().half,children:[(0,l.jsx)("label",{className:N().label,children:"Parcelas"}),(0,l.jsx)("input",{className:N().input,type:"text",value:o.installments,onChange:e=>p("installments",e.target.value),placeholder:"0",inputMode:"numeric"})]}),(0,l.jsxs)("div",{className:N().half,children:[(0,l.jsx)("label",{className:N().label,children:"Parcelas pagas"}),(0,l.jsx)("input",{className:N().input,type:"text",value:o.paidInstallments,onChange:e=>p("paidInstallments",e.target.value),placeholder:"0",inputMode:"numeric"})]})]}),(0,l.jsxs)("div",{className:N().field,children:[(0,l.jsxs)("label",{className:N().label,children:["Valor da parcela",(0,l.jsx)("span",{className:N().hint,children:"(Calculado automaticamente: Total \xf7 Parcelas)"})]}),(0,l.jsx)("input",{className:N().input,type:"text",value:o.installmentValue,onChange:e=>{d(!0),p("installmentValue",e.target.value)},onBlur:()=>{d(!1)},placeholder:"0,00",inputMode:"numeric"})]}),(0,l.jsxs)("div",{className:N().row,children:[(0,l.jsxs)("div",{className:N().half,children:[(0,l.jsx)("label",{className:N().label,children:"Dia vencimento"}),(0,l.jsx)("input",{className:N().input,type:"text",value:o.dueDay,onChange:e=>p("dueDay",e.target.value),placeholder:"0",inputMode:"numeric"})]}),(0,l.jsxs)("div",{className:N().half,children:[(0,l.jsx)("label",{className:N().label,children:"1\xaa parcela"}),(0,l.jsx)("input",{className:N().input,type:"text",value:o.firstInstallmentValue,onChange:e=>p("firstInstallmentValue",e.target.value),placeholder:"0,00",inputMode:"numeric"})]})]}),(0,l.jsxs)("div",{className:N().field,children:[(0,l.jsx)("label",{className:N().label,children:"Observa\xe7\xf5es"}),(0,l.jsx)("textarea",{className:"".concat(N().input," ").concat(N().textarea),value:o.notes,onChange:e=>p("notes",e.target.value),placeholder:"Adicione detalhes sobre esta d\xedvida...",rows:3})]}),(0,l.jsxs)("div",{className:N().actions,children:[(0,l.jsx)(j.$,{type:"button",title:"Cancelar",variant:"outline",onClick:t,className:N().cancelButton}),(0,l.jsx)(j.$,{type:"submit",title:"Salvar",variant:"primary"})]})]})]})})}var V=t(68412),D=t.n(V);function I(e){let{isOpen:a,onClose:t,debt:n,onConfirm:r}=e,[o,i]=(0,s.useState)("single"),[c,u]=(0,s.useState)(1),[m,p]=(0,s.useState)("");if((0,s.useEffect)(()=>{n&&a&&(u(1),i("single"),p(""))},[n,a]),!a||!n)return null;let h=n.installments-n.paidInstallments;n.installments;let _=e=>{let a=n.totalValue||0,t=n.installments||1,l=n.paidInstallments||0,s=t-l;return s<=0?0:0===l&&n.firstInstallmentValue&&n.firstInstallmentValue>0?1===e?n.firstInstallmentValue:n.firstInstallmentValue+a/(t-1)*(e-1):a/s*e},v=async()=>{if(h<=0)return void p("Todas as parcelas j\xe1 foram pagas");try{let e=_(1),a=n.totalValue||0,l=n.paidValue||0,s=Math.max(0,a-e),o={...n,totalValue:s,paidInstallments:n.paidInstallments+1,paidValue:l+e};await r(o),t()}catch(e){p(e.message||"Erro ao marcar parcela")}},g=async()=>{if(p(""),!c||c<=0)return void p("Digite um n\xfamero v\xe1lido de parcelas");if(c>h)return void p("Voc\xea s\xf3 pode marcar at\xe9 ".concat(h," parcela(s) restante(s)"));try{let e=Number(c),a=_(e),l=n.totalValue||0,s=n.paidValue||0,o=Math.max(0,l-a),i={...n,totalValue:o,paidInstallments:n.paidInstallments+e,paidValue:s+a};await r(i),t()}catch(e){p(e.message||"Erro ao marcar parcelas")}};return(0,l.jsx)("div",{className:D().overlay,onClick:t,children:(0,l.jsxs)("div",{className:D().modal,onClick:e=>e.stopPropagation(),children:[(0,l.jsxs)("div",{className:D().header,children:[(0,l.jsxs)("h3",{className:D().title,children:["Marcar Parcelas - ",n.creditor]}),(0,l.jsx)("button",{className:D().closeButton,onClick:t,"aria-label":"Fechar",children:"\xd7"})]}),(0,l.jsxs)("div",{className:D().body,children:[(0,l.jsxs)("div",{className:D().info,children:[(0,l.jsxs)("p",{className:D().infoText,children:["Parcelas pagas: ",(0,l.jsx)("strong",{children:n.paidInstallments})," de ",(0,l.jsx)("strong",{children:n.installments})]}),(0,l.jsxs)("p",{className:D().infoText,children:["Parcelas restantes: ",(0,l.jsx)("strong",{children:h})]}),(()=>{let e=(n.totalValue||0)+(n.paidValue||0),a=n.totalValue||0,t=n.paidValue||0;return(0,l.jsxs)(l.Fragment,{children:[(0,l.jsxs)("p",{className:D().infoText,children:["Valor original: ",(0,l.jsx)("strong",{children:(0,d.vv)(e)})]}),t>0&&(0,l.jsxs)("p",{className:D().infoText,children:["Valor pago: ",(0,l.jsx)("strong",{children:(0,d.vv)(t)})]}),(0,l.jsxs)("p",{className:D().infoText,children:["Valor restante: ",(0,l.jsx)("strong",{children:(0,d.vv)(a)})]})]})})()]}),(0,l.jsxs)("div",{className:D().modeSelector,children:[(0,l.jsx)("button",{className:"".concat(D().modeButton," ").concat("single"===o?D().modeButtonActive:""),onClick:()=>{i("single"),p("")},children:"Marcar 1 parcela"}),(0,l.jsx)("button",{className:"".concat(D().modeButton," ").concat("multiple"===o?D().modeButtonActive:""),onClick:()=>{i("multiple"),p("")},children:"Marcar m\xfaltiplas"})]}),m&&(0,l.jsx)("div",{className:D().errorMessage,children:m}),"multiple"===o&&(0,l.jsxs)("div",{className:D().multipleInput,children:[(0,l.jsx)("label",{className:D().label,children:"Quantas parcelas foram pagas?"}),(0,l.jsx)("input",{type:"number",min:"1",max:h,value:c,onChange:e=>{let a=parseInt(e.target.value)||0;a>=1&&a<=h?(u(a),p("")):a>h?u(h):u(a)},className:D().input,placeholder:"Ex: 3"}),(0,l.jsxs)("small",{className:D().hint,children:["M\xe1ximo: ",h," parcela(s) restante(s)"]})]}),"single"===o&&(0,l.jsx)("div",{className:D().singleInfo,children:(0,l.jsxs)("p",{className:D().singleText,children:["Ao confirmar, ser\xe1 marcada ",(0,l.jsx)("strong",{children:"1 parcela"})," como paga."]})})]}),(0,l.jsxs)("div",{className:D().actions,children:[(0,l.jsx)(j.$,{title:"Cancelar",variant:"outline",onClick:t,className:D().cancelButton}),(0,l.jsx)(j.$,{title:"single"===o?"Marcar 1 Parcela":"Marcar ".concat(c," Parcela(s)"),variant:"primary",onClick:"single"===o?v:g})]})]})})}var w=t(8748),C=t(51965),E=t.n(C);function M(e){let{isOpen:a,onUpload:t,onClose:n}=e,[r,o]=(0,s.useState)(null),[i,c]=(0,s.useState)(!1),[d,u]=(0,s.useState)(""),[m,p]=(0,s.useState)(null),h=(0,s.useRef)(null),_=e=>{let a=e.target.files[0];if(a){if(!(["application/vnd.openxmlformats-officedocument.spreadsheetml.sheet","application/vnd.openxmlformats-officedocument.spreadsheetml.sheet.macroEnabled.12","application/vnd.ms-excel","application/vnd.ms-excel.sheet.macroEnabled.12","text/csv","application/csv"].includes(a.type)||a.name.endsWith(".xlsx")||a.name.endsWith(".xlsm")||a.name.endsWith(".xls")||a.name.endsWith(".csv")))return void u("Por favor, selecione um arquivo Excel (.xlsx, .xlsm, .xls) ou CSV (.csv)");o(a),u(""),v(a)}},v=async e=>{try{let a=new FileReader;a.onload=e=>{try{let a=new Uint8Array(e.target.result),t=w.LF(a,{type:"array",cellDates:!1,cellNF:!1,cellStyles:!1,sheetStubs:!1,cellFormula:!1,cellHTML:!1}),l=t.Sheets[t.SheetNames[0]],s=w.Wp.sheet_to_json(l,{header:1,defval:"",raw:!1});if(0===s.length)return void u("A planilha est\xe1 vazia");p({headers:s[0]||[],rows:s.slice(1,6),totalRows:s.length-1})}catch(e){u("Erro ao ler a planilha: "+e.message)}},a.readAsArrayBuffer(e)}catch(e){u("Erro ao processar o arquivo: "+e.message)}},g=async()=>{if(!r)return void u("Por favor, selecione um arquivo");c(!0),u("");try{let e=new FileReader;e.onload=async e=>{try{let a=new Uint8Array(e.target.result),l=w.LF(a,{type:"array",cellDates:!1,cellNF:!1,cellStyles:!1,sheetStubs:!1,cellFormula:!1,cellHTML:!1}),s=l.Sheets[l.SheetNames[0]],r=w.Wp.decode_range(s["!ref"]||"A1");console.log("[DEBUG] Range da planilha: ".concat(s["!ref"])),console.log("[DEBUG] Linhas no range: ".concat(r.e.r+1," (de 0 a ").concat(r.e.r,")"));let i=w.Wp.sheet_to_json(s,{defval:"",raw:!0,blankrows:!1});if(console.log("[DEBUG] Total de linhas lidas do JSON: ".concat(i.length)),console.log("[DEBUG] Primeiras 3 linhas:",i.slice(0,3)),0===i.length){u("A planilha est\xe1 vazia"),c(!1);return}let d=[],m=[];if(console.log("[DEBUG] Iniciando processamento de ".concat(i.length," linhas")),i.forEach((e,a)=>{(a%5==0||a<3)&&console.log("[DEBUG] Processando linha ".concat(a+1,":"),Object.keys(e).slice(0,5));try{let t=a=>{for(let t of a){let a=t.toLowerCase().trim(),l=Object.keys(e).find(e=>e.toLowerCase().trim()===a);if(void 0!==l&&void 0!==e[l]&&""!==e[l])return e[l]}for(let t of a){let a=t.toLowerCase().trim(),l=Object.keys(e).find(e=>{let t=e.toLowerCase().trim();return t.includes(a)||a.includes(t)});if(void 0!==l&&void 0!==e[l]&&""!==e[l])return e[l]}return null},l=e=>{if(null==e||""===e)return 0;if("number"==typeof e)return isNaN(e)?0:e;let a=String(e).trim();if(""===a)return 0;if((a=(a=a.replace(/^[R$]+\s*/i,"")).replace(/\s/g,"")).includes(",")&&a.includes("."))a=(a=a.replace(/\./g,"")).replace(",",".");else if(a.includes(","))a=a.replace(",",".");else if(a.includes(".")){let e=a.split(".");(e.length>2||2===e.length&&e[1].length>2)&&(a=a.replace(/\./g,""))}if(a=a.replace(/[^\d.-]/g,""),""===a||"-"===a)return 0;let t=Number(a);return isNaN(t)?0:t},s=t(["id","codigo","code"]),n=t(["credor","dividas ativas","dividasativas","divida ativa","dividaativa","creditor","banco","institui\xe7\xe3o","instituicao","nome"]),r=t(["valor total","valortotal","valor","total","totalvalue"]),o=n?n.toString().toLowerCase().trim():"";if("totais"===o||"total"===o||"sem financ"===o||"sem financiamento"===o){a<10&&console.log("[DEBUG] Linha ".concat(a+1,' pulada (linha de totais): "').concat(n,'"'));return}if(!(n&&""!==n.toString().trim()||r&&""!==r.toString().trim())){a<10&&console.log("[DEBUG] Linha ".concat(a+1,' pulada (vazia): creditor="').concat(n,'", totalValue="').concat(r,'"'));return}let i=n;i&&""!==i.toString().trim()||(i="D\xedvida ".concat(a+1));let c=l(r),u=l(t(["parcelas","installments","quantidade","qtd"])),p=l(t(["parcelas pagas","parcelaspagas","parcelas paga","parcelaspaga","paidinstallments","pagas"])),h=l(t(["valor pago","valorpago","paidvalue","pago"])),_=l(t(["total restante","valor restante","valorestante","restante","descontando parcelas pagas","descontandoparcelaspagas"])),v=t(["dia vencimento","diavencimento","vencimento","data de vencimento","datadevencimento","dueday","dia"]),g=t(["1\xaa parcela","1a parcela","primeira parcela","primeiraparcela","firstinstallmentvalue","entrada"]),f=t(["observa\xe7\xf5es","observacoes","notes","notas","obs"]),x=i||n||"Linha ".concat(a+2);if(!r||""===r||null===r){let e="Linha ".concat(a+2," (").concat(x,'): Coluna "Valor total" n\xe3o encontrada ou vazia');m.push(e),a<10&&console.log("[DEBUG] ".concat(e));return}if(c<=0){let e="Linha ".concat(a+2," (").concat(x,'): Valor Total deve ser maior que zero. Valor encontrado: "').concat(r,'"');m.push(e),a<10&&console.log("[DEBUG] ".concat(e));return}if(!u||u<=0){let e="Linha ".concat(a+2," (").concat(x,"): Parcelas deve ser maior que zero");m.push(e),a<10&&console.log("[DEBUG] ".concat(e));return}let j=v?Math.floor(l(v)):null;if(null!==j&&(j<1||j>31))return void m.push("Linha ".concat(a+2," (").concat(x,"): Dia de vencimento deve estar entre 1 e 31"));let b=Math.floor(l(p||0)),N=Math.floor(l(u));if(b>N)return void m.push("Linha ".concat(a+2," (").concat(x,"): Parcelas pagas (").concat(b,") n\xe3o pode ser maior que total de parcelas (").concat(N,")"));let y=l(h||0);if(0===b)y=0;else if(0===y){if(0!==_&&c>0){let e=Math.abs(l(_));y=Math.max(0,l(c)-e)}if(0===y&&b>0&&N>0){let e=l(c)/N;y=b*e}}let S={id:s?String(s).trim():null,creditor:String(i).trim(),totalValue:l(c),installments:N,paidInstallments:b,paidValue:y,installmentValue:N>0?l(c)/N:0,dueDay:j,firstInstallmentValue:g?l(g):null,notes:f?String(f).trim():""};d.push(S),d.length<=10&&console.log("[DEBUG] D\xedvida ".concat(d.length," adicionada: ").concat(S.creditor," - Valor: ").concat(S.totalValue,", Parcelas: ").concat(S.installments,"/").concat(S.paidInstallments))}catch(e){m.push("Linha ".concat(a+2,": ").concat(e.message||"Erro ao processar linha"))}}),m.length>0&&(console.warn("Linhas com erro na planilha:",m),0===d.length))throw Error("Nenhuma d\xedvida v\xe1lida encontrada. Erros encontrados:\n".concat(m.slice(0,5).join("\n")).concat(m.length>5?"\n... e mais ".concat(m.length-5," erro(s)"):""));if(0===d.length){let e=m.length>0?"Nenhuma d\xedvida v\xe1lida encontrada. Erros:\n".concat(m.slice(0,5).join("\n")).concat(m.length>5?"\n... e mais ".concat(m.length-5," erro(s)"):""):"Nenhuma d\xedvida v\xe1lida encontrada na planilha";u(e),c(!1);return}m.length>0&&d.length>0&&console.warn("".concat(m.length," linha(s) foram ignoradas devido a erros. ").concat(d.length," d\xedvida(s) v\xe1lida(s) ser\xe3o importadas.")),console.log("[DEBUG Importa\xe7\xe3o] Total de linhas na planilha: ".concat(i.length)),console.log("[DEBUG Importa\xe7\xe3o] Total de d\xedvidas processadas: ".concat(d.length)),console.log("[DEBUG Importa\xe7\xe3o] Total de erros: ".concat(m.length)),d.length>0&&console.log("[DEBUG Importa\xe7\xe3o] Primeiras 3 d\xedvidas:",d.slice(0,3).map(e=>e.creditor));try{await t(d),c(!1),o(null),p(null),u(""),h.current&&(h.current.value=""),n()}catch(e){u(e.message||"Erro ao fazer upload das d\xedvidas"),c(!1)}}catch(e){u(e.message||"Erro ao processar a planilha"),c(!1)}},e.readAsArrayBuffer(r)}catch(e){u("Erro ao processar o arquivo: "+e.message),c(!1)}};return a?(0,l.jsx)("div",{className:E().overlay,onClick:()=>{i||(o(null),p(null),u(""),h.current&&(h.current.value=""),n())},children:(0,l.jsxs)("div",{className:E().modal,onClick:e=>e.stopPropagation(),children:[(0,l.jsxs)("div",{className:E().header,children:[(0,l.jsx)("h3",{className:E().title,children:"Importar D\xedvidas de Planilha"}),(0,l.jsx)("button",{className:E().closeButton,onClick:()=>{i||(o(null),p(null),u(""),h.current&&(h.current.value=""),n())},"aria-label":"Fechar",disabled:i,children:"\xd7"})]}),(0,l.jsxs)("div",{className:E().body,children:[(0,l.jsxs)("div",{className:E().info,children:[(0,l.jsxs)("p",{className:E().infoText,children:[(0,l.jsx)("strong",{children:"Formato esperado:"})," Excel (.xlsx, .xlsm, .xls) ou CSV (.csv)"]}),(0,l.jsx)("p",{className:E().infoText,children:(0,l.jsx)("strong",{children:"Colunas obrigat\xf3rias:"})}),(0,l.jsxs)("ul",{className:E().infoList,children:[(0,l.jsxs)("li",{children:[(0,l.jsx)("strong",{children:"Dividas ativas"})," (ou Credor, Nome) - Nome do credor"]}),(0,l.jsxs)("li",{children:[(0,l.jsx)("strong",{children:"Valor"})," (ou Valor Total) - Valor total da d\xedvida"]}),(0,l.jsxs)("li",{children:[(0,l.jsx)("strong",{children:"Parcelas"})," - N\xfamero total de parcelas"]})]}),(0,l.jsx)("p",{className:E().infoText,children:(0,l.jsx)("strong",{children:"Colunas opcionais:"})}),(0,l.jsxs)("ul",{className:E().infoList,children:[(0,l.jsxs)("li",{children:[(0,l.jsx)("strong",{children:"ID"})," - Para atualizar d\xedvida existente"]}),(0,l.jsxs)("li",{children:[(0,l.jsx)("strong",{children:"Parcelas paga"})," (ou Parcelas pagas) - Quantas parcelas j\xe1 foram pagas"]}),(0,l.jsxs)("li",{children:[(0,l.jsx)("strong",{children:"Descontando parcelas pagas"})," - Valor restante (usado para calcular valor pago)"]}),(0,l.jsxs)("li",{children:[(0,l.jsx)("strong",{children:"Valor Pago"})," - Valor j\xe1 pago (se n\xe3o informar, ser\xe1 calculado)"]}),(0,l.jsxs)("li",{children:[(0,l.jsx)("strong",{children:"Data de vencimento"})," - Dia do m\xeas (1-31)"]}),(0,l.jsxs)("li",{children:[(0,l.jsx)("strong",{children:"Primeira parcela"})," - Valor da entrada (se houver)"]}),(0,l.jsxs)("li",{children:[(0,l.jsx)("strong",{children:"Observa\xe7\xf5es"})," - Notas adicionais"]})]}),(0,l.jsxs)("p",{className:E().infoText,children:[(0,l.jsx)("strong",{children:"Dica:"})," O sistema aceita varia\xe7\xf5es nos nomes das colunas. Se n\xe3o informar o ID, tentar\xe1 atualizar d\xedvidas existentes pelo nome do credor."]}),(0,l.jsx)("button",{type:"button",onClick:()=>{let e=w.Wp.json_to_sheet([{Credor:"Itau","Valor total":887.28,Parcelas:12,"Parcelas pagas":0,"Valor pago":0,"Dia vencimento":11,"1\xaa parcela":270.27,Observações:"Cart\xe3o de cr\xe9dito"},{Credor:"Santander","Valor total":1055.8,Parcelas:5,"Parcelas pagas":0,"Valor pago":0,"Dia vencimento":11,"1\xaa parcela":"",Observações:""},{Credor:"Lojas CEM","Valor total":2500,Parcelas:12,"Parcelas pagas":2,"Valor pago":260,"Dia vencimento":"","1\xaa parcela":"",Observações:""}]),a=w.Wp.book_new();w.Wp.book_append_sheet(a,e,"D\xedvidas"),w._h(a,"template_dividas.xlsx")},className:E().downloadTemplate,disabled:i,children:"\uD83D\uDCE5 Baixar Template de Exemplo"})]}),(0,l.jsxs)("div",{className:E().dropZone,onDragOver:e=>{e.preventDefault(),e.stopPropagation()},onDrop:e=>{e.preventDefault(),e.stopPropagation();let a=e.dataTransfer.files[0];a&&_({target:{files:[a]}})},children:[(0,l.jsx)("input",{ref:h,type:"file",accept:".xlsx,.xlsm,.xls,.csv,application/vnd.openxmlformats-officedocument.spreadsheetml.sheet,application/vnd.openxmlformats-officedocument.spreadsheetml.sheet.macroEnabled.12,application/vnd.ms-excel,text/csv",onChange:_,className:E().fileInput,id:"spreadsheet-upload"}),(0,l.jsx)("label",{htmlFor:"spreadsheet-upload",className:E().dropZoneLabel,children:r?(0,l.jsxs)("div",{className:E().fileSelected,children:[(0,l.jsx)("span",{className:E().fileIcon,children:"\uD83D\uDCC4"}),(0,l.jsx)("span",{className:E().fileName,children:r.name}),(0,l.jsx)("button",{className:E().removeFile,onClick:e=>{e.stopPropagation(),!i&&(o(null),p(null),u(""),h.current&&(h.current.value=""))},disabled:i,title:i?"Aguarde o processamento":"Remover arquivo",children:"\xd7"})]}):(0,l.jsxs)(l.Fragment,{children:[(0,l.jsx)("span",{className:E().uploadIcon,children:"\uD83D\uDCE4"}),(0,l.jsx)("span",{className:E().uploadText,children:"Clique para selecionar ou arraste um arquivo aqui"}),(0,l.jsx)("span",{className:E().uploadHint,children:"Formatos suportados: .xlsx, .xlsm, .xls, .csv"})]})})]}),i&&(0,l.jsxs)("div",{className:E().processingMessage,children:[(0,l.jsx)("div",{className:E().spinner}),(0,l.jsx)("span",{children:"Processando planilha... Por favor, aguarde."})]}),d&&(0,l.jsx)("div",{className:E().errorMessage,children:d}),m&&!i&&(0,l.jsxs)("div",{className:E().preview,children:[(0,l.jsxs)("h4",{className:E().previewTitle,children:["Preview (",m.totalRows," ",1===m.totalRows?"linha":"linhas",")"]}),(0,l.jsx)("div",{className:E().previewTable,children:(0,l.jsxs)("table",{children:[(0,l.jsx)("thead",{children:(0,l.jsx)("tr",{children:m.headers.map((e,a)=>(0,l.jsx)("th",{children:e||"Coluna ".concat(a+1)},a))})}),(0,l.jsx)("tbody",{children:m.rows.map((e,a)=>(0,l.jsx)("tr",{children:m.headers.map((a,t)=>(0,l.jsx)("td",{children:e[t]||""},t))},a))})]})})]})]}),(0,l.jsxs)("div",{className:E().actions,children:[(0,l.jsx)(j.$,{title:"Cancelar",variant:"outline",onClick:()=>{i||(o(null),p(null),u(""),h.current&&(h.current.value=""),n())},className:E().cancelButton,disabled:i}),(0,l.jsx)(j.$,{title:i?"Processando...":"Importar",variant:"primary",onClick:g,disabled:!r||i})]})]})}):null}var k=t(56545),B=t(9161),P=t.n(B);function T(e){return e.paidInstallments>=e.installments?"paid":e.paidInstallments>0?"in-progress":"pending"}function F(){let{data:e,loading:a,refresh:t,saveDebt:d,removeDebt:u,operationLoading:m,savePreferences:h}=(0,r.c)(),[_,v]=(0,s.useState)(!1),[g,f]=(0,s.useState)(null),[j,b]=(0,s.useState)(""),[N,y]=(0,s.useState)("all"),[V,D]=(0,s.useState)("status"),[w,C]=(0,s.useState)("list"),[E,B]=(0,s.useState)({isOpen:!1,debt:null}),[F,U]=(0,s.useState)(!1),[L,O]=(0,s.useState)(!1);(0,s.useEffect)(()=>{(null==e?void 0:e.preferences)&&!L&&(y(e.preferences.debtsStatusFilter||"all"),D(e.preferences.debtsSortBy||"status"),C(e.preferences.debtsViewMode||"list"),O(!0))},[null==e?void 0:e.preferences,L]),(0,s.useEffect)(()=>{if(L&&(null==e?void 0:e.preferences)&&(N!==e.preferences.debtsStatusFilter||V!==e.preferences.debtsSortBy||w!==e.preferences.debtsViewMode)){let e=setTimeout(()=>{h({debtsStatusFilter:N,debtsSortBy:V,debtsViewMode:w}).catch(e=>{console.error("Erro ao salvar prefer\xeancias:",e)})},500);return()=>clearTimeout(e)}},[N,V,w,null==e?void 0:e.preferences,h,L]);let A=(0,s.useMemo)(()=>{let a=(null==e?void 0:e.debts)||[];return a=a.map(e=>{let a={...e};return 0===(a.paidInstallments||0)&&(a.paidValue=0),a}),"all"!==N&&(a=a.filter(e=>T(e)===N)),a=[...a].sort((e,a)=>{switch(V){case"status":let t={paid:3,"in-progress":2,pending:1};return t[T(a)]-t[T(e)];case"creditor":return e.creditor.localeCompare(a.creditor);case"totalValue":return a.totalValue-e.totalValue;case"dueDay":return(e.dueDay||999)-(a.dueDay||999);default:return 0}})},[null==e?void 0:e.debts,N,V]);if(a&&!e||m)return(0,l.jsx)(k.x,{message:m?"Processando...":"Carregando dados..."});async function q(e){try{let a={...e};0===(a.paidInstallments||0)&&(a.paidValue=0),await d(a),b("D\xedvida salva com sucesso!"),v(!1),f(null),setTimeout(()=>b(""),3e3)}catch(e){b(e.message||"Erro ao salvar d\xedvida")}}async function G(e){if(confirm("Tem certeza que deseja excluir esta d\xedvida?"))try{await u(e),b("D\xedvida removida!"),setTimeout(()=>b(""),3e3)}catch(e){b(e.message||"Erro ao remover d\xedvida")}}async function R(e){try{let a={id:e.id,creditor:e.creditor,totalValue:Number(e.totalValue),paidValue:Number(e.paidValue),installments:Number(e.installments),paidInstallments:Number(e.paidInstallments),installmentValue:Number(e.installmentValue),dueDay:e.dueDay,firstInstallmentValue:e.firstInstallmentValue,notes:e.notes||""};0===(a.paidInstallments||0)&&(a.paidValue=0),await d(a);let t=a.installments-a.paidInstallments;0===t?b("Todas as parcelas foram marcadas como pagas!"):b("Parcela(s) marcada(s) como paga(s)!"),setTimeout(()=>b(""),3e3)}catch(e){throw b(e.message||"Erro ao marcar parcelas"),e}}async function z(a){if(!a||0===a.length)return void b("Nenhuma d\xedvida v\xe1lida para importar");try{let n=0,r=0,c=0,d=0,u=[],m=[],p=new Set;for(let t of a)try{var l,s;let a=!1;if(t.id)(null==e||null==(s=e.debts)?void 0:s.find(e=>e.id===t.id))?(a=!0,r++):c++;else{let s=null==e||null==(l=e.debts)?void 0:l.find(e=>e.creditor.toLowerCase().trim()===t.creditor.toLowerCase().trim());s?(t.id=s.id,a=!0,r++):c++}t.installments>0&&(t.installmentValue=t.totalValue/t.installments),0===t.paidInstallments?t.paidValue=0:0===t.paidValue&&t.paidInstallments>0&&(t.paidValue=t.paidInstallments*t.installmentValue),await (0,i.cx)(t),n++,m.push({...t,isUpdate:a}),p.add(t.creditor.toLowerCase().trim())}catch(a){d++;let e=a.message||"Erro desconhecido";u.push("".concat(t.creditor,": ").concat(e)),console.error("Erro ao processar d\xedvida ".concat(t.creditor,":"),a)}if((0,o.gm)(),await t(!0),0===d){let e=[];r>0&&e.push("".concat(r," atualizada(s)")),c>0&&e.push("".concat(c," criada(s)")),b("".concat(n," d\xedvida(s) processada(s) com sucesso! (").concat(e.join(", "),")"))}else{let e=[];if(n>0){r>0&&e.push("".concat(r," atualizada(s)")),c>0&&e.push("".concat(c," criada(s)"));let a=u.slice(0,3).join("; "),t=u.length>3?" e mais ".concat(u.length-3," erro(s)"):"";b("".concat(n," d\xedvida(s) processada(s) com sucesso (").concat(e.join(", "),"), mas ").concat(d," erro(s) ocorreram: ").concat(a).concat(t))}else{let e=u.slice(0,3).join("; "),a=u.length>3?" e mais ".concat(u.length-3," erro(s)"):"";b("Erro ao processar todas as d\xedvidas: ".concat(e).concat(a))}console.error("Erros durante importa\xe7\xe3o:",u)}setTimeout(()=>{b("")},8e3)}catch(e){b("Erro ao processar planilha: ".concat(e.message)),console.error("Erro ao processar planilha:",e),setTimeout(()=>{b("")},5e3)}}return(0,l.jsx)(n.O,{children:(0,l.jsxs)("div",{className:P().container,children:[(0,l.jsx)("h1",{className:P().header,children:"D\xedvidas"}),j&&(0,l.jsx)("div",{className:j.includes("Erro")?P().error:P().success,children:j}),(0,l.jsxs)(c.w,{title:"Lista de D\xedvidas",children:[(0,l.jsx)(x,{statusFilter:N,onStatusFilterChange:y,sortBy:V,onSortByChange:D,viewMode:w,onViewModeChange:C}),(0,l.jsxs)("div",{className:P().actionButtons,children:[(0,l.jsx)("button",{onClick:()=>U(!0),className:"".concat(P().addButton," ").concat(P().uploadButton),children:"\uD83D\uDCE4 Importar Planilha"}),(0,l.jsx)("button",{onClick:function(){f(null),v(!0)},className:P().addButton,children:"+ Adicionar D\xedvida"})]}),(0,l.jsx)(p,{debts:A,onSelect:function(e){f(e),v(!0)},onDelete:G,onMarkAsPaid:function(e){B({isOpen:!0,debt:e})},viewMode:w})]}),(0,l.jsx)(S,{isOpen:_,onClose:function(){v(!1),f(null)},selectedDebt:g,onSubmit:q}),(0,l.jsx)(I,{isOpen:E.isOpen,onClose:()=>{m||B({isOpen:!1,debt:null})},debt:E.debt,onConfirm:async e=>{await R(e),B({isOpen:!1,debt:null})}}),(0,l.jsx)(M,{isOpen:F,onClose:()=>U(!1),onUpload:z})]})})}},30029:e=>{e.exports={container:"Section_container__pgS5h",title:"Section_title__dplNc"}},30402:()=>{},35467:(e,a,t)=>{Promise.resolve().then(t.bind(t,28303))},40731:(e,a,t)=>{"use strict";t.d(a,{$:()=>r});var l=t(73365),s=t(23770),n=t.n(s);function r(e){let{title:a,onClick:t,variant:s="primary",size:r="medium",disabled:o=!1,loading:i=!1,fullWidth:c=!1,type:d="button",className:u="",...m}=e,p=[n().button,n()[s],n()[r],o&&n().disabled,c&&n().fullWidth,u].filter(Boolean).join(" ");return(0,l.jsx)("button",{type:d,className:p,onClick:t,disabled:o||i,...m,children:i?(0,l.jsxs)("span",{className:n().loadingContainer,children:[(0,l.jsx)("span",{className:n().spinner}),(0,l.jsx)("span",{children:"Carregando..."})]}):a})}},44944:(e,a,t)=>{"use strict";t.d(a,{O:()=>i});var l=t(73365),s=t(1521),n=t(1702),r=t(78630),o=t(56545);function i(e){let{children:a}=e,{isAuthenticated:t,loading:i}=(0,r.A)(),c=(0,n.useRouter)();return((0,s.useEffect)(()=>{i||t||c.push("/login")},[t,i,c]),i)?(0,l.jsx)(o.x,{message:"Verificando autentica\xe7\xe3o..."}):t?a:null}},51965:e=>{e.exports={overlay:"SpreadsheetUpload_overlay__a5GQa",fadeIn:"SpreadsheetUpload_fadeIn__d4amF",modal:"SpreadsheetUpload_modal__AOGzA",slideUp:"SpreadsheetUpload_slideUp__TS5fS",header:"SpreadsheetUpload_header__k7DIj",title:"SpreadsheetUpload_title__DpClV",closeButton:"SpreadsheetUpload_closeButton__TZ6Jc",body:"SpreadsheetUpload_body__uJHIk",info:"SpreadsheetUpload_info__jF4ZO",infoText:"SpreadsheetUpload_infoText__ffD4A",infoList:"SpreadsheetUpload_infoList__C9iEe",downloadTemplate:"SpreadsheetUpload_downloadTemplate__Y4vZX",dropZone:"SpreadsheetUpload_dropZone__al7kS",fileInput:"SpreadsheetUpload_fileInput__FEMkg",dropZoneLabel:"SpreadsheetUpload_dropZoneLabel__DzSrD",uploadIcon:"SpreadsheetUpload_uploadIcon__9OjGO",uploadText:"SpreadsheetUpload_uploadText___o__L",uploadHint:"SpreadsheetUpload_uploadHint___YkQa",fileSelected:"SpreadsheetUpload_fileSelected___5L2x",fileIcon:"SpreadsheetUpload_fileIcon__kRlfT",fileName:"SpreadsheetUpload_fileName__OvJeM",removeFile:"SpreadsheetUpload_removeFile__UCb1p",processingMessage:"SpreadsheetUpload_processingMessage__puX_A",spinner:"SpreadsheetUpload_spinner__6u4GL",spin:"SpreadsheetUpload_spin__5opAe",errorMessage:"SpreadsheetUpload_errorMessage__l_jqL",preview:"SpreadsheetUpload_preview__EYHjT",previewTitle:"SpreadsheetUpload_previewTitle__xPyc1",previewTable:"SpreadsheetUpload_previewTable__8aYeJ",actions:"SpreadsheetUpload_actions__XG6vx",cancelButton:"SpreadsheetUpload_cancelButton__MSE8M"}},56545:(e,a,t)=>{"use strict";t.d(a,{x:()=>r});var l=t(73365),s=t(4954),n=t.n(s);function r(e){let{message:a="Carregando..."}=e;return(0,l.jsxs)("div",{className:n().container,children:[(0,l.jsx)("div",{className:n().spinner}),(0,l.jsx)("p",{className:n().message,children:a})]})}},57571:()=>{},64785:(e,a,t)=>{"use strict";async function l(e){let a=arguments.length>1&&void 0!==arguments[1]?arguments[1]:{},t=localStorage.getItem("auth_token"),l=await fetch("".concat("http://localhost:3333/api").concat(e),{headers:{"Content-Type":"application/json",...t&&{Authorization:"Bearer ".concat(t)},...a.headers||{}},...a});if(!l.ok)throw 401===l.status&&(localStorage.removeItem("auth_token"),localStorage.removeItem("auth_user"),window.location.href="/login"),Error((await l.json().catch(()=>({message:l.statusText}))).message||"Erro ao comunicar com a API");return 204===l.status?null:l.json()}function s(){return l("/dados")}function n(e){return l("/dividas",{method:"POST",body:JSON.stringify(e)})}function r(e){return l("/dividas/".concat(e),{method:"DELETE"})}function o(e){return l("/salario",{method:"POST",body:JSON.stringify(e)})}function i(e){return l("/poupanca",{method:"POST",body:JSON.stringify(e)})}function c(e){return l("/meses",{method:"POST",body:JSON.stringify(e)})}function d(e){return l("/preferencias",{method:"POST",body:JSON.stringify(e)})}function u(e){return l("/acoes-rapidas",{method:"POST",body:JSON.stringify(e)})}function m(e){return l("/acoes-rapidas/ordem",{method:"POST",body:JSON.stringify({routeOrder:e})})}function p(e){return l("/acoes-rapidas/".concat(encodeURIComponent(e)),{method:"DELETE"})}function h(e){return l("/usuario",{method:"POST",body:JSON.stringify(e)})}t.d(a,{BH:()=>r,C1:()=>o,IG:()=>m,Nt:()=>i,PK:()=>d,TK:()=>h,UE:()=>p,a1:()=>c,cx:()=>n,dR:()=>s,wn:()=>u})},68412:e=>{e.exports={overlay:"MarkInstallmentsModal_overlay__GqUsj",fadeIn:"MarkInstallmentsModal_fadeIn__E43q3",modal:"MarkInstallmentsModal_modal__QWoWi",slideUp:"MarkInstallmentsModal_slideUp__uUTs8",header:"MarkInstallmentsModal_header__S__if",title:"MarkInstallmentsModal_title__4NKCO",closeButton:"MarkInstallmentsModal_closeButton__GxtNT",body:"MarkInstallmentsModal_body__NNIOw",info:"MarkInstallmentsModal_info__35_pn",infoText:"MarkInstallmentsModal_infoText__NtekP",modeSelector:"MarkInstallmentsModal_modeSelector__bmn_3",modeButton:"MarkInstallmentsModal_modeButton__gmKx3",modeButtonActive:"MarkInstallmentsModal_modeButtonActive__SURht",multipleInput:"MarkInstallmentsModal_multipleInput__4lDEz",label:"MarkInstallmentsModal_label__hGWMW",input:"MarkInstallmentsModal_input__AuJYl",hint:"MarkInstallmentsModal_hint__l9o08",singleInfo:"MarkInstallmentsModal_singleInfo__YlV_M",singleText:"MarkInstallmentsModal_singleText__Rcjou",errorMessage:"MarkInstallmentsModal_errorMessage__qc4Te",actions:"MarkInstallmentsModal_actions__gOVn5",cancelButton:"MarkInstallmentsModal_cancelButton__cCqsD",slideUpBottom:"MarkInstallmentsModal_slideUpBottom__dZisa"}},78630:(e,a,t)=>{"use strict";t.d(a,{AuthProvider:()=>u,A:()=>m});var l=t(73365),s=t(1521),n=t(1702);async function r(e){let a=arguments.length>1&&void 0!==arguments[1]?arguments[1]:{};try{let t=await fetch("".concat("http://localhost:3333/api").concat(e),{headers:{"Content-Type":"application/json",...a.headers||{}},...a});if(!t.ok){let e="Erro ao comunicar com a API";try{e=(await t.json()).message||e}catch(a){e=t.statusText||e}throw Error(e)}if(204===t.status)return null;return await t.json()}catch(e){if(e instanceof Error)throw e;throw Error(e.message||"Erro desconhecido")}}async function o(e,a){if(!e||!a)throw Error("Email e senha s\xe3o obrigat\xf3rios");if(!/^[^\s@]+@[^\s@]+\.[^\s@]+$/.test(e.trim()))throw Error("Email inv\xe1lido");return r("/auth/login",{method:"POST",body:JSON.stringify({email:e.trim().toLowerCase(),password:a})})}async function i(e,a){let t=arguments.length>2&&void 0!==arguments[2]?arguments[2]:"";if(!e||!a)throw Error("Email e senha s\xe3o obrigat\xf3rios");if(!/^[^\s@]+@[^\s@]+\.[^\s@]+$/.test(e.trim()))throw Error("Email inv\xe1lido");if(a.length<6)throw Error("Senha deve ter no m\xednimo 6 caracteres");return r("/auth/register",{method:"POST",body:JSON.stringify({email:e.trim().toLowerCase(),password:a,name:t.trim()})})}async function c(e){if(!e)throw Error("Token n\xe3o fornecido");return r("/auth/me",{method:"GET",headers:{Authorization:"Bearer ".concat(e)}})}let d=(0,s.createContext)(null);function u(e){let{children:a}=e,[t,r]=(0,s.useState)(null),[u,m]=(0,s.useState)(null),[p,h]=(0,s.useState)(!0),_=(0,n.useRouter)(),v=async e=>{try{let a=await c(e);if(!a||!a.user)throw Error("Resposta inv\xe1lida do servidor");r(a.user),m(e),h(!1)}catch(e){r(null),m(null),localStorage.removeItem("auth_token"),localStorage.removeItem("auth_user"),h(!1)}};(0,s.useEffect)(()=>{(async()=>{let e=localStorage.getItem("auth_token"),a=localStorage.getItem("auth_user");e&&a?(m(e),r(JSON.parse(a)),await v(e)):h(!1)})()},[]);let g=async(e,a)=>{try{let t=await o(e,a);if(!t||!t.user||!t.token)throw Error("Resposta inv\xe1lida do servidor");return r(t.user),m(t.token),localStorage.setItem("auth_token",t.token),localStorage.setItem("auth_user",JSON.stringify(t.user)),t}catch(e){throw e}},f=async(e,a,t)=>{try{let l=await i(e,a,t);if(!l||!l.user||!l.token)throw Error("Resposta inv\xe1lida do servidor");return r(l.user),m(l.token),localStorage.setItem("auth_token",l.token),localStorage.setItem("auth_user",JSON.stringify(l.user)),l}catch(e){throw e}};return(0,l.jsx)(d.Provider,{value:{user:t,token:u,loading:p,login:g,register:f,logout:()=>{r(null),m(null),localStorage.removeItem("auth_token"),localStorage.removeItem("auth_user"),_.push("/login")},isAuthenticated:!!t&&!!u},children:a})}function m(){let e=(0,s.useContext)(d);if(!e)throw Error("useAuth deve ser usado dentro de AuthProvider");return e}},80146:(e,a,t)=>{"use strict";t.d(a,{w:()=>r});var l=t(73365),s=t(30029),n=t.n(s);function r(e){let{title:a,children:t}=e;return(0,l.jsxs)("div",{className:n().container,children:[a&&(0,l.jsx)("h2",{className:n().title,children:a}),t]})}},98027:(e,a,t)=>{"use strict";t.d(a,{H$:()=>n,gm:()=>r,hi:()=>s});let l={data:null,timestamp:null,version:0};function s(){var e;if((e=l)&&e.timestamp&&Date.now()-e.timestamp<3e5&&null!==l.data)try{return JSON.parse(JSON.stringify(l.data))}catch(e){console.warn("Erro ao deserializar cache:",e),r()}return null}function n(e){try{l={data:JSON.parse(JSON.stringify(e)),timestamp:Date.now(),version:l.version+1}}catch(e){console.warn("Erro ao serializar dados para cache:",e)}}function r(){l={data:null,timestamp:null,version:l.version+1}}},99186:e=>{e.exports={overlay:"DebtFormModal_overlay__a2kZU",fadeIn:"DebtFormModal_fadeIn___yhTC",modal:"DebtFormModal_modal__vdzbW",slideUp:"DebtFormModal_slideUp__SCmzk",header:"DebtFormModal_header__nxtwf",title:"DebtFormModal_title__gpoOZ",closeButton:"DebtFormModal_closeButton__Yqpqa",form:"DebtFormModal_form__Rrqd8",field:"DebtFormModal_field__Yjtl4",label:"DebtFormModal_label__KT8iq",hint:"DebtFormModal_hint__k_tW_",input:"DebtFormModal_input__r3okP",readonly:"DebtFormModal_readonly__kq7E0",textarea:"DebtFormModal_textarea__46iDC",row:"DebtFormModal_row__Mw1fc",half:"DebtFormModal_half__QSanq",actions:"DebtFormModal_actions__eH5jA",cancelButton:"DebtFormModal_cancelButton__wg0j6"}}},e=>{e.O(0,[487,465,862,874,347,131,358],()=>e(e.s=35467)),_N_E=e.O()}]);